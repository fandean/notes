[TOC]



çº¿ç¨‹å’Œoracleé—®çš„éƒ½å¤š

mysqlçš„å­˜å‚¨è¿‡ç¨‹

springæœ‰ä»€ä¹ˆæ¨¡å¼

æœ€å¥‡è‘©çš„æ˜¯ä»–ä¸é—®æˆ‘æœ€è¿‘çš„é¡¹ç›®ï¼Œé—®æˆ‘ç¬¬äºŒä¸ªé¡¹ç›®é‡Œé¢çš„æŠ€æœ¯ã€‚

å•ç‚¹ç™»å½•tokenæ€ä¹ˆäº§ç”Ÿçš„ã€‚

æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç‚¹å¯¹ç‚¹æ—¶å¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸é‡å¤ã€‚

åå°„ï¼Œæ³›å‹ï¼Œå¼‚å¸¸ï¼Œæ³¨è§£ã€‚è¯´ä¸€ä¸‹ã€‚éƒ½å†™è¿‡è‡ªå®šä¹‰å—ã€‚è¯´ä¸‹è‡ªå®šä¹‰çš„å®ç°

é™ˆè¯—å¦ï¼ˆä¸Šè¯¾ï¼‰

é™ˆä¸œæµ·





[CAP å®šç†çš„å«ä¹‰ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—](http://www.ruanyifeng.com/blog/2018/07/cap.html "CAP å®šç†çš„å«ä¹‰ - é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—")

[Javaå°±ä¸šæŒ‡å¯¼ - èŒå°Q - åšå®¢å›­](https://www.cnblogs.com/Qian123/articles/5671900.html#3681485 "Javaå°±ä¸šæŒ‡å¯¼ - èŒå°Q - åšå®¢å›­")





## é¢ç»



[ã€åŸåˆ›ã€‘JAVAé¢è¯•è§£æï¼ˆæœ‰èµä¸€é¢ï¼‰ - å­¤ç‹¬çƒŸ - åšå®¢å›­](https://www.cnblogs.com/rjzheng/p/10052014.html "[åŸåˆ›]JAVAé¢è¯•è§£æï¼ˆæœ‰èµä¸€é¢ï¼‰ - å­¤ç‹¬çƒŸ - åšå®¢å›­")

[å¹¿å·åƒé”‹ - é¢è¯•å®å…¸](http://www.funtl.com/2018/04/07/contents/Java-%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/ "å¹¿å·åƒé”‹ - é¢è¯•å®å…¸")

[å¦‚ä½•åœ¨é¢è¯•ä¸­ä»‹ç»è‡ªå·±çš„é¡¹ç›®ç»éªŒï¼Ÿ](https://mp.weixin.qq.com/s?__biz=MzUxNTU4NjAwMw==&mid=2247484209&idx=1&sn=e86a490f4f93fcdd47ffd0cb338d48d4&chksm=f9b5218dcec2a89ba305b5dd8d55fcafbcfc3f07ad24527e928dc125e084b66d1f49682b79b2&mpshare=1&scene=2&srcid=1201n70YQ21KfBuB5k47jAo7&from=timeline#rd "Javaä¹‹é—´")





**å‡ ä»½å­¦ä¹ ç¬”è®°ï¼š** ä¼˜ç§€çš„äººå¤ªå¤šï¼Œè¯¥ä»½ç¬”è®°åˆ—è¡¨å°†ä¼šä¸æ–­å¢åŠ 

- [CyC2018/CS-Notes: Computer Science Learning Notes](https://github.com/CyC2018/CS-Notes "CyC2018/CS-Notes: Computer Science Learning Notes")
- [crossoverJie/JCSprout: ğŸ‘¨â€ğŸ“ Java Core Sprout : basic, concurrent, algorithm](https://github.com/crossoverJie/JCSprout "crossoverJie/JCSprout: ğŸ‘¨â€ğŸ“ Java Core Sprout : basic, concurrent, algorithm") 
- [Snailclimb/JavaGuide: ã€Javaå­¦ä¹ +é¢è¯•æŒ‡å—ã€‘ ä¸€ä»½æ¶µç›–å¤§éƒ¨åˆ†Javaç¨‹åºå‘˜æ‰€éœ€è¦æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†ã€‚](https://github.com/Snailclimb/JavaGuide "Snailclimb/JavaGuide: [Javaå­¦ä¹ +é¢è¯•æŒ‡å—] ä¸€ä»½æ¶µç›–å¤§éƒ¨åˆ†Javaç¨‹åºå‘˜æ‰€éœ€è¦æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†ã€‚")
- [xingshaocheng/architect-awesome: åç«¯æ¶æ„å¸ˆæŠ€æœ¯å›¾è°±](https://github.com/xingshaocheng/architect-awesome "xingshaocheng/architect-awesome: åç«¯æ¶æ„å¸ˆæŠ€æœ¯å›¾è°±")
- [frank-lam/fullstack-tutorial: Full Stack Developer Tutorialï¼Œåå°æŠ€æœ¯æ ˆ/å…¨æ ˆå¼€å‘/æ¶æ„å¸ˆä¹‹è·¯ï¼Œç§‹æ‹›/æ˜¥æ‹›/æ ¡æ‹›/é¢è¯•ã€‚ from zero to hero.](https://github.com/frank-lam/fullstack-tutorial) åƒJavaè™šæ‹Ÿæœºæ–¹é¢çš„æ–‡ç« æ¯”å…¶å®ƒçš„ç¬”è®°éƒ½è¯¦ç»†ï¼›å¹¶æä¾›äº†ä¸€äº›ä¼˜ç§€çš„å¼€æºé¡¹ç›®çš„é“¾æ¥ã€‚
- [francistao/LearningNotes: Enjoy Learning.](https://github.com/francistao/LearningNotes "francistao/LearningNotes: Enjoy Learning.") é›†åˆæºç è§£æï¼ŒJVMï¼ŒJavaå¹¶å‘
- [CarpenterLee/JCFInternals: æ·±å…¥ç†è§£Javaé›†åˆæ¡†æ¶](https://github.com/CarpenterLee/JCFInternals "CarpenterLee/JCFInternals: æ·±å…¥ç†è§£Javaé›†åˆæ¡†æ¶")  é…æœ‰å¤§é‡å›¾ç¤ºï¼Œéå¸¸ä¸é”™çš„è®²è§£é›†åˆçš„èµ„æº





## JavaåŸºç¡€



### é¢å‘å¯¹è±¡çš„ç‰¹å¾

é»˜è®¤ä¸‰å¤§ç‰¹æ€§

- ç»§æ‰¿
- å°è£…
- å¤šæ€
- æŠ½è±¡ï¼ˆå¦‚æœè¯´æœ‰4ä¸ªå°±åŠ ä¸ŠæŠ½è±¡ï¼‰





### JavaåŸºæœ¬æ•°æ®ç±»å‹



- byte
- short
- int
- long
- float
- double
- boolean
- char



å“ªäº›ç±»å‹å¯ä»¥ç”¨äºswitchè¯­å¥çš„åˆ¤æ–­å‘¢ï¼Ÿ

Math.round()æ–¹æ³• 





> [Java åŸºæœ¬æ•°æ®ç±»å‹ - èœé¸Ÿæ•™ç¨‹](http://www.runoob.com/java/java-basic-datatypes.html "Java åŸºæœ¬æ•°æ®ç±»å‹ | èœé¸Ÿæ•™ç¨‹")
>
>

### equals() å’Œ hashCode()

`hashCode()`æ–¹æ³•ç»™å¯¹è±¡è¿”å›ä¸€ä¸ªhash codeå€¼ã€‚è¿™ä¸ªæ–¹æ³•è¢«ç”¨äºhash tablesï¼Œä¾‹å¦‚HashMap

**éœ€è¦æ³¨æ„çš„æ˜¯å½“equals()æ–¹æ³•è¢«overrideæ—¶ï¼ŒhashCode()ä¹Ÿè¦è¢«overrideã€‚æŒ‰ç…§ä¸€èˆ¬hashCode()æ–¹æ³•çš„å®ç°æ¥è¯´ï¼Œç›¸ç­‰çš„å¯¹è±¡ï¼Œå®ƒä»¬çš„hash codeä¸€å®šç›¸ç­‰ã€‚**

Javaå¯¹è±¡çš„eqaulsæ–¹æ³•å’ŒhashCodeæ–¹æ³•æ˜¯è¿™æ ·è§„å®šçš„ï¼š

**1ã€ç›¸ç­‰** **ï¼ˆç›¸åŒï¼‰** **çš„å¯¹è±¡å¿…é¡»å…·æœ‰ç›¸ç­‰çš„å“ˆå¸Œç ï¼ˆæˆ–è€…æ•£åˆ—ç ï¼‰ã€‚**

**2ã€å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„hashCodeç›¸åŒï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šç›¸åŒã€‚**





### final 

finalå…³é”®å­—ä¸»è¦ç”¨åœ¨ä¸‰ä¸ªåœ°æ–¹ï¼šå˜é‡ã€æ–¹æ³•ã€ç±»



final å€¼çš„åˆå§‹åŒ–



### static

1. ä¿®é¥°æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•
2. é™æ€ä»£ç å—
3. ä¿®é¥°ç±»(åªèƒ½ä¿®é¥°å†…éƒ¨ç±»)
4. é™æ€å¯¼åŒ…(ç”¨æ¥å¯¼å…¥ç±»ä¸­çš„é™æ€èµ„æºï¼Œ1.5ä¹‹åçš„æ–°ç‰¹æ€§)



**é™æ€å˜é‡ï¼š**åˆç§°ä¸ºç±»å˜é‡ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå˜é‡å±äºç±»çš„ï¼Œç±»æ‰€æœ‰çš„å®ä¾‹éƒ½å…±äº«é™æ€å˜é‡ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åæ¥è®¿é—®å®ƒã€‚é™æ€å˜é‡åœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä»½ï¼Œå­˜æ”¾åœ¨ Java å†…å­˜åŒºåŸŸçš„**æ–¹æ³•åŒº**ã€‚

**å®ä¾‹å˜é‡ï¼š**æ¯åˆ›å»ºä¸€ä¸ªå®ä¾‹å°±ä¼šäº§ç”Ÿä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå®ƒä¸è¯¥å®ä¾‹åŒç”Ÿå…±æ­»ã€‚

æ–¹æ³•åŒºä¸ Java å †ä¸€æ ·ï¼Œæ˜¯å„ä¸ªçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸï¼Œå®ƒç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚





[JavaGuide/static](https://github.com/Snailclimb/JavaGuide/blob/master/Java%E7%9B%B8%E5%85%B3/static.md "JavaGuide/static.md at master Â· Snailclimb/JavaGuide")



### åˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹å¼

åˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹å¼ï¼š5ç§  [Javaä¸­åˆ›å»ºå¯¹è±¡çš„å‡ ç§æ–¹å¼ ](https://blog.csdn.net/hustzw07/article/details/72518298 )

ä½¿ç”¨ newå…³é”®å­—ã€ä½¿ç”¨Cloneæ–¹æ³•ã€ä½¿ç”¨ååºåˆ—åŒ–ã€ä½¿ç”¨Classç±»çš„newInstanceæ–¹æ³•ã€ä½¿ç”¨Constructorç±»çš„newInstanceæ–¹æ³• ï¼ˆä½¿ç”¨åå°„ï¼‰ã€‚





### Stringï¼ŒStringBuilderï¼ŒStringBuffer



Stringä¸ºå­—ç¬¦ä¸²å¸¸é‡ï¼Œè€ŒStringBuilderå’ŒStringBufferå‡ä¸ºå­—ç¬¦ä¸²å˜é‡ï¼Œå³Stringå¯¹è±¡ä¸€æ—¦åˆ›å»ºä¹‹åè¯¥å¯¹è±¡æ˜¯ä¸å¯æ›´æ”¹çš„ï¼Œä½†åä¸¤è€…çš„å¯¹è±¡æ˜¯å˜é‡ï¼Œæ˜¯å¯ä»¥æ›´æ”¹çš„ã€‚

åœ¨çº¿ç¨‹å®‰å…¨ä¸Šï¼ŒStringBuilderæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œè€ŒStringBufferæ˜¯çº¿ç¨‹å®‰å…¨çš„



Stringï¼šé€‚ç”¨äºå°‘é‡çš„å­—ç¬¦ä¸²æ“ä½œçš„æƒ…å†µ

StringBuilderï¼šé€‚ç”¨äºå•çº¿ç¨‹ä¸‹åœ¨å­—ç¬¦ç¼“å†²åŒºè¿›è¡Œå¤§é‡æ“ä½œçš„æƒ…å†µ

StringBufferï¼šé€‚ç”¨å¤šçº¿ç¨‹ä¸‹åœ¨å­—ç¬¦ç¼“å†²åŒºè¿›è¡Œå¤§é‡æ“ä½œçš„æƒ…å†µ



[Javaä¸­çš„Stringï¼ŒStringBuilderï¼ŒStringBufferä¸‰è€…çš„åŒºåˆ« - é…¥é£ - åšå®¢å›­](https://www.cnblogs.com/su-feng/p/6659064.html "Javaä¸­çš„Stringï¼ŒStringBuilderï¼ŒStringBufferä¸‰è€…çš„åŒºåˆ« - é…¥é£ - åšå®¢å›­")

[å…³äºStringBufferå’ŒStringBuilderçš„å¯å˜æ€§ï¼Œæ–‡æ¡£ä¸­å™è¿°æœ‰è¯¯ by liangpeng9631 Â· Pull Request #56 Â· Snailclimb/JavaGuide](https://github.com/Snailclimb/JavaGuide/pull/56 "å…³äºStringBufferå’ŒStringBuilderçš„å¯å˜æ€§ï¼Œæ–‡æ¡£ä¸­å™è¿°æœ‰è¯¯ by liangpeng9631 Â· Pull Request #56 Â· Snailclimb/JavaGuide")



### final, finally, finalize çš„åŒºåˆ«



- finalï¼šç”¨äºå£°æ˜å±æ€§,æ–¹æ³•å’Œç±», åˆ†åˆ«è¡¨ç¤ºå±æ€§ä¸å¯å˜, æ–¹æ³•ä¸å¯è¦†ç›–, ç±»ä¸å¯ç»§æ‰¿.
- æ˜¯å¼‚å¸¸å¤„ç†è¯­å¥ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œè¡¨ç¤ºæ€»æ˜¯æ‰§è¡Œ.
- finalizeï¼šæ˜¯Objectç±»çš„ä¸€ä¸ª**æ–¹æ³•**ï¼Œåœ¨åƒåœ¾æ”¶é›†å™¨æ‰§è¡Œçš„æ—¶å€™**ä¼šè°ƒç”¨è¢«å›æ”¶å¯¹è±¡çš„finalizeæ–¹æ³•**ï¼Œå¯ä»¥è¦†ç›–æ­¤æ–¹æ³•æä¾›åƒåœ¾æ”¶é›†æ—¶çš„å…¶ä»–èµ„æºå›æ”¶ï¼Œä¾‹å¦‚å…³é—­æ–‡ä»¶ç­‰ï¼Œ JVMä¸ä¿è¯æ­¤æ–¹æ³•æ€»è¢«è°ƒç”¨ã€‚



### æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«

é»˜è®¤çš„æ–¹æ³•å®ç°

å®ç°

æ„é€ å™¨

è®¿é—®ä¿®é¥°ç¬¦

mainæ–¹æ³•

å¤šç»§æ‰¿





### å†…éƒ¨ç±»







### å¼‚å¸¸



![](https://raw.githubusercontent.com/fandean/images/master/PicGo/Java%E5%BC%82%E5%B8%B8.png)



#### try catch finally æ‰§è¡Œé¡ºåº

è§ä¹¦ä¸­ç¤ºä¾‹ã€‚



>  è¡¥å…… [Javaæé«˜ç¯‡â€”â€”Java å¼‚å¸¸å¤„ç† - èŒå°Q - åšå®¢å›­](https://www.cnblogs.com/Qian123/p/5715402.html "Javaæé«˜ç¯‡â€”â€”Java å¼‚å¸¸å¤„ç† - èŒå°Q - åšå®¢å›­")





#### é¡¹ç›®ä¸­å¼‚å¸¸å¦‚ä½•å¤„ç†ï¼Ÿ

Spring MVCå¼‚å¸¸å¤„ç†å™¨ã€‚





### IOæµ



- ç£ç›˜æ“ä½œï¼šFile
- å­—èŠ‚æ“ä½œï¼šInputStream å’Œ OutputStream
- å­—ç¬¦æ“ä½œï¼šReader å’Œ Writer

- å¯¹è±¡æ“ä½œï¼šSerializable
- ç½‘ç»œæ“ä½œï¼šSocket
- æ–°çš„è¾“å…¥/è¾“å‡ºï¼šNIO



è½¬æ¢æµï¼š

- InputStreamReader å®ç°ä»å­—èŠ‚æµè§£ç æˆå­—ç¬¦æµï¼›
- OutputStreamWriter å®ç°å­—ç¬¦æµç¼–ç æˆä¸ºå­—èŠ‚æµã€‚





ä½¿ç”¨é€’å½’çš„æ–¹å¼éå†æ–‡ä»¶å¤¹



[CS-Notes/Java IO.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/Java%20IO.md "CS-Notes/Java IO.md at master Â· CyC2018/CS-Notes")





#### Javaåºåˆ—åŒ–æ¡†æ¶

**åºåˆ—åŒ–** (Serialization)æ˜¯å°† ***(Java)å¯¹è±¡*** çš„çŠ¶æ€ä¿¡æ¯è½¬æ¢ä¸º **å¯ä»¥å­˜å‚¨æˆ–ä¼ è¾“** çš„å½¢å¼çš„è¿‡ç¨‹ï¼Œè€Œç›¸åçš„è¿‡ç¨‹å°±ç§°ä¸ºååºåˆ—åŒ–ã€‚





Javaé»˜è®¤çš„åºåˆ—åŒ–æœºåˆ¶æ•ˆç‡å¾ˆä½ã€åºåˆ—åŒ–åçš„ç æµä¹Ÿè¾ƒå¤§ï¼Œæ‰€ä»¥æ¶Œç°å‡ºäº†éå¸¸å¤šçš„ä¼˜ç§€çš„Javaåºåˆ—åŒ–æ¡†æ¶ï¼Œä¾‹å¦‚ï¼š[hessian](https://link.jianshu.com/?t=http://hessian.caucho.com/)ã€[protobuf](https://link.jianshu.com/?t=https://github.com/google/protobuf)ã€[thrift](https://link.jianshu.com/?t=https://thrift.apache.org/)ã€[protostuff](https://link.jianshu.com/?t=http://www.protostuff.io/)ã€[kryo](https://link.jianshu.com/?t=https://github.com/EsotericSoftware/kryo)ã€[msgpack](https://link.jianshu.com/?t=http://msgpack.org/)ã€[avro](https://link.jianshu.com/?t=https://avro.apache.org/)ã€[fst](https://link.jianshu.com/?t=https://github.com/RuedigerMoeller/fast-serialization) ç­‰ç­‰ã€‚



Jsonç›¸å…³æ¡†æ¶

Google Protobufæ¡†æ¶





### é›†åˆ

[CS-Notes/Java å®¹å™¨.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/Java%20%E5%AE%B9%E5%99%A8.md "CS-Notes/Java å®¹å™¨.md at master Â· CyC2018/CS-Notes")  â­

[LearningNotes: JavaSE](https://github.com/francistao/LearningNotes "francistao/LearningNotes: Enjoy Learning.")  æºç è§£æ



![](https://images2015.cnblogs.com/blog/690102/201607/690102-20160729151056028-1786098224.jpg)

#### ArrayList

åº•å±‚å®ç°

ArrayListæ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€æ•°ç»„ï¼Œå…¶å®¹é‡èƒ½è‡ªåŠ¨å¢é•¿ï¼Œç±»ä¼¼äºCè¯­è¨€ä¸­çš„åŠ¨æ€ç”³è¯·å†…å­˜ï¼ŒåŠ¨æ€å¢é•¿å†…å­˜ã€‚

ArrayListä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåªèƒ½åœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯ä»¥è€ƒè™‘ç”¨collections.synchronizedList(List l)å‡½æ•°è¿”å›ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ArrayListç±»ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨concurrentå¹¶å‘åŒ…ä¸‹çš„CopyOnWriteArrayListç±»ã€‚



 **List**

- ArrayListï¼šåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒéšæœºè®¿é—®ã€‚
- Vectorï¼šå’Œ ArrayList ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ï¼ˆæ…¢ï¼‰
- LinkedListï¼šåŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œä½†æ˜¯å¯ä»¥å¿«é€Ÿåœ°åœ¨é“¾è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒLinkedList è¿˜å¯ä»¥ç”¨ä½œæ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ã€‚



é—®é¢˜ï¼š

- ArraListä¸Vectorçš„åŒºåˆ«ï¼Ÿåº•å±‚éƒ½æ˜¯ä½¿ç”¨åŠ¨æ€æ•°ç»„å­˜æ”¾æ•°æ®ï¼Œä½†åè€…åœ¨ `add()`æ–¹æ³•ä¸Šä½¿ç”¨äº† `synchronized`è¿›è¡ŒåŒæ­¥å†™æ•°æ®ï¼Œæ‰€ä»¥å¼€é”€å¤§ã€‚



#### HashMap



- java ä¸­ï¼Œ ä¸ºä»€ä¹ˆåŸºæœ¬ç±»å‹ä¸èƒ½åšä¸º HashMap çš„é”®å€¼ï¼Œ è€Œåªèƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼ŒæŠŠå¼•ç”¨ç±»å‹ä½œ
  ä¸º HashMap çš„é”®å€¼ï¼Œ éœ€è¦æ³¨æ„å“ªäº›åœ°æ–¹ï¼Ÿ 

- HashMapä¸HashTableçš„åŒºåˆ«ï¼Ÿ

  - HashMapæ˜¯æ”¯æŒnullé”®å’Œnullå€¼çš„ï¼Œè€ŒHashTableåœ¨é‡åˆ°nullæ—¶ï¼Œä¼šæŠ›å‡ºNullPointerExceptionå¼‚å¸¸ã€‚

  - HashMap/HashTableå†…éƒ¨ç”¨**Entryæ•°ç»„**å®ç°å“ˆå¸Œè¡¨ï¼Œè€Œå¯¹äºæ˜ å°„åˆ°åŒä¸€ä¸ªå“ˆå¸Œæ¡¶ï¼ˆæ•°ç»„çš„åŒä¸€ä¸ªä½ç½®ï¼‰çš„é”®å€¼å¯¹ï¼Œä½¿ç”¨**Entryé“¾è¡¨**æ¥å­˜å‚¨ (è§£å†³hashå†²çª) ã€‚
  - HashTableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒHashMapä¸æ˜¯ï¼Œä¹Ÿå°±æ˜¯è¯´HashTableåœ¨å¤šçº¿ç¨‹ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œä¸éœ€è¦åšé¢å¤–çš„åŒæ­¥ï¼Œè€ŒHashMapåˆ™ä¸è¡Œã€‚å› ä¸ºHashTableå…¬å¼€çš„æ–¹æ³•ä¸Šæ·»åŠ äº† synchronized å…³é”®å­—ã€‚
  - **HashTableå·²ç»è¢«æ·˜æ±°äº†**ï¼Œä¸è¦åœ¨ä»£ç ä¸­å†ä½¿ç”¨å®ƒã€‚å¦‚æœä½ ä¸éœ€è¦çº¿ç¨‹å®‰å…¨ï¼Œé‚£ä¹ˆä½¿ç”¨HashMapï¼Œå¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨ï¼Œé‚£ä¹ˆä½¿ç”¨ConcurrentHashMapã€‚

- HashMapçš„ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿ

  äºŒç»´ç»“æ„ï¼Œç¬¬ä¸€ç»´æ˜¯æ•°ç»„ï¼Œç¬¬äºŒç»´æ˜¯é“¾è¡¨ã€‚

  ç®€å•æ¥è¯´ï¼ŒHashMapç”±æ•°ç»„ + é“¾è¡¨ç»„æˆçš„ï¼Œæ•°ç»„æ˜¯HashMapçš„ä¸»ä½“ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸»è¦ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªè€Œå­˜åœ¨çš„ã€‚

- putæ–¹æ³•

- getæ–¹æ³•

  get å’Œ put ç±»ä¼¼ï¼Œé¦–å…ˆä¼šå°†ä¼ å…¥çš„ **Key** åš `hash` è¿ç®—è®¡ç®—å‡º hashcode,ç„¶åæ ¹æ®æ•°ç»„é•¿åº¦å–æ¨¡è®¡ç®—å‡ºåœ¨æ•°ç»„ä¸­çš„ index ä¸‹æ ‡ã€‚å¦‚æœè¯¥ä½ç½®ä¸Š(indexä¸Š) æ˜¯ä¸€ä¸ªé“¾è¡¨å°±éœ€è¦éå†æ•´ä¸ªé“¾è¡¨ï¼Œé€šè¿‡ `key.equals(k)` æ¥æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ã€‚



**HashMapç®€å•å®ç°åŸç†ï¼š**

HashMapçš„ä¸»å¹²æ˜¯ä¸€ä¸ªEntryæ•°ç»„ã€‚Entryæ˜¯HashMapçš„åŸºæœ¬ç»„æˆå•å…ƒï¼Œæ¯ä¸€ä¸ªEntryåŒ…å«ä¸€ä¸ªkey-valueé”®å€¼å¯¹ã€‚

Entryæ˜¯HashMapä¸­çš„ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼š

```java
static class Entry<K,V> implements Map.Entry<K,V> {
        final K key;
        V value;
        Entry<K,V> next;//å­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªEntryçš„å¼•ç”¨ï¼Œå•é“¾è¡¨ç»“æ„
        int hash;//å¯¹keyçš„hashcodeå€¼è¿›è¡Œhashè¿ç®—åå¾—åˆ°çš„å€¼ï¼Œå­˜å‚¨åœ¨Entryï¼Œé¿å…é‡å¤è®¡ç®—

        /**
         * Creates new entry.
         */
        Entry(int h, K k, V v, Entry<K,V> n) {
            value = v;
            next = n;
            key = k;
            hash = h;
        }
```



HashMapçš„æ•´ä½“ç»“æ„å¦‚ä¸‹:

![](https://images2015.cnblogs.com/blog/1024555/201611/1024555-20161113235348670-746615111.png)





 HashMapæ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°çš„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªkey-valueå¯¹ï¼Œå…¶å†…éƒ¨é€šè¿‡å•é“¾è¡¨è§£å†³å†²çªé—®é¢˜ï¼Œå®¹é‡ä¸è¶³ï¼ˆè¶…è¿‡äº†é˜ˆå€¼ï¼‰æ—¶ï¼ŒåŒæ ·ä¼šè‡ªåŠ¨å¢é•¿ã€‚

HashMapæ˜¯éçº¿ç¨‹å®‰å…¨çš„ï¼Œåªæ˜¯ç”¨äºå•çº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯ä»¥é‡‡ç”¨concurrentå¹¶å‘åŒ…ä¸‹çš„concurrentHashMapã€‚



ä¸¤ä¸ªé‡è¦å‚æ•°

- å®¹é‡ï¼šé»˜è®¤16
- è´Ÿè½½å› å­ï¼šé»˜è®¤ 0.75

å½“HashMap `size>16*0.75` (è¾¾åˆ°é˜ˆå€¼) åˆ™è¿›è¡Œæ‰©å®¹ã€‚



jdk1.8ä¹‹å‰ï¼›æ•°ç»„+é“¾è¡¨ï¼›ä¹‹å æ•°ç»„ + é“¾è¡¨/çº¢é»‘æ ‘ ï¼ˆåœ¨ `JDK1.8` ä¸­å¯¹ `HashMap` è¿›è¡Œäº†ä¼˜åŒ–ï¼š å†™å…¥é“¾è¡¨çš„é•¿åº¦è¶…è¿‡äº†é˜ˆå€¼(é»˜è®¤ä¸º8)ï¼Œé“¾è¡¨å°†ä¼šè½¬æ¢ä¸º**çº¢é»‘æ ‘**ã€‚ï¼‰





**åˆ¤æ–­HashMapçš„keyæ˜¯å¦é‡å¤ï¼š**

keyæ˜¯å¦é‡å¤ï¼Œæ˜¯ç”±ä¸¤ä¸ªæ­¥éª¤åˆ¤æ–­çš„ï¼š

```
hashcodeæ˜¯å¦ä¸€æ ·
  å¦‚æœhashcodeä¸ä¸€æ ·ï¼Œå°±æ˜¯åœ¨ä¸åŒçš„å‘é‡Œï¼Œä¸€å®šæ˜¯ä¸é‡å¤çš„
  å¦‚æœhashcodeä¸€æ ·ï¼Œå°±æ˜¯åœ¨åŒä¸€ä¸ªå‘é‡Œï¼Œè¿˜éœ€è¦è¿›è¡Œequalsæ¯”è¾ƒ
    å¦‚æœequalsä¸€æ ·ï¼Œåˆ™æ˜¯é‡å¤æ•°æ®
    å¦‚æœequalsä¸ä¸€æ ·ï¼Œåˆ™æ˜¯ä¸åŒæ•°æ®ã€‚
```





> LinkedHashMapï¼šä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤å…ƒç´ çš„é¡ºåºï¼Œé¡ºåºä¸ºæ’å…¥é¡ºåºæˆ–è€…æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰é¡ºåºã€‚



- åœ¨Google Playä¸­å¯ä»¥ä¸‹è½½ä¸€ä¸ªå« `Algorithms` çš„ appï¼Œè¯¥appä¸»è¦å±•ç¤ºäº† ç®—æ³•åŠ¨å›¾å›¾è§£ï¼Œå…¶ä¸­â€œå“ˆå¸Œå‡½æ•°â€ å’Œ â€œå“ˆå¸Œè¡¨â€ éƒ¨åˆ†è¿›è¡Œäº†éå¸¸é€šä¿—æ˜“æ‡‚çš„æ¼”ç¤ºï¼Œå»ºè®®é¦–å…ˆè§‚çœ‹æ­¤æ¼”ç¤ºï¼Œå†çœ‹ç›¸å…³æ–‡ç« ã€‚

- [HashMapå®ç°åŸç†åŠæºç åˆ†æ - dreamcatcher-cx - åšå®¢å›­](https://www.cnblogs.com/chengxiao/p/6059914.html "HashMapå®ç°åŸç†åŠæºç åˆ†æ - dreamcatcher-cx - åšå®¢å›­")
- [HashMap ç›¸å…³é¢è¯•é¢˜åŠå…¶è§£ç­” - ç®€ä¹¦](https://www.jianshu.com/p/75adf47958a7 "HashMap ç›¸å…³é¢è¯•é¢˜åŠå…¶è§£ç­” - ç®€ä¹¦")
- https://github.com/crossoverJie/JCSprout 

- [HashMap å®ç°åŸç† - ImportNew](http://www.importnew.com/27043.html "HashMap å®ç°åŸç† - ImportNew")









#### HashSet

- æ‰©å®¹æœºåˆ¶ï¼š

- é¡ºåºï¼šâ€œ**ä¸ä¿è¯æœ‰åº**â€å’Œâ€œä¿è¯æ— åºâ€ä¸ç­‰ä»·ï¼ŒHashSet çš„ iterator æ˜¯å‰è€…è€Œä¸æ˜¯åè€…ï¼Œæ‰€ä»¥åœ¨ä¸€æ¬¡è¿è¡Œä¸­çœ‹åˆ°æœ‰åºçš„ç»“æœä¹Ÿæ˜¯æ­£å¸¸çš„ï¼Œä½†ä¸èƒ½ä¾èµ–è¿™ä¸ªæœ‰åºè¡Œä¸ºã€‚



[Java HashCodeåŸç†è¯¦è§£ ](http://how2j.cn/k/collection/collection-hashcode/371.html)







### XMLè§£æ

DOMè§£æï¼š**å°†æ•´ä¸ªxmlæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†é€ä¸ªè§£æ**

SAXæ–¹å¼è§£æï¼š**é€šè¿‡Handlerå¤„ç†ç±»é€ä¸ªä¾æ¬¡é¡ºåºè§£ææ¯ä¸ªèŠ‚ç‚¹**





## å¤šçº¿ç¨‹

[JAVAå¤šçº¿ç¨‹å’Œå¹¶å‘åŸºç¡€é¢è¯•é—®ç­”ï¼ˆè½¬è½½ï¼‰ - æµ· å­ - åšå®¢å›­](https://www.cnblogs.com/dolphin0520/p/3932934.html "JAVAå¤šçº¿ç¨‹å’Œå¹¶å‘åŸºç¡€é¢è¯•é—®ç­”ï¼ˆè½¬è½½ï¼‰ - æµ· å­ - åšå®¢å›­")

[Javaçº¿ç¨‹é¢è¯•é¢˜ Top 50 ï¼ˆè½¬è½½ï¼‰ - æµ· å­ - åšå®¢å›­](https://www.cnblogs.com/dolphin0520/p/3958019.html "Javaçº¿ç¨‹é¢è¯•é¢˜ Top 50 ï¼ˆè½¬è½½ï¼‰ - æµ· å­ - åšå®¢å›­")



> é¢è¯•æ—¶é—®å¤šçº¿ç¨‹ä¸­çº¿ç¨‹çš„åŒæ­¥å’Œå¼‚æ­¥ï¼Ÿæ„Ÿè§‰å¾ˆåˆ«æ‰­ã€‚
>
> [java å¤šçº¿ç¨‹åŒæ­¥å’Œå¼‚æ­¥è¯¦è§£ - ç®€ä¹¦](https://www.jianshu.com/p/80ffa58db37f "java å¤šçº¿ç¨‹åŒæ­¥å’Œå¼‚æ­¥è¯¦è§£ - ç®€ä¹¦")  
>
> åŒæ­¥ï¼šAçº¿ç¨‹è¦è¯·æ±‚æŸä¸ªèµ„æºï¼Œä½†æ˜¯æ­¤èµ„æºæ­£åœ¨è¢«Bçº¿ç¨‹ä½¿ç”¨ä¸­ï¼Œå› ä¸ºåŒæ­¥æœºåˆ¶å­˜åœ¨ï¼ŒAçº¿ç¨‹è¯·æ±‚
> ä¸åˆ°ï¼Œæ€ä¹ˆåŠï¼ŒAçº¿ç¨‹åªèƒ½ç­‰å¾…ä¸‹å»
> å¼‚æ­¥ï¼šAçº¿ç¨‹è¦è¯·æ±‚æŸä¸ªèµ„æºï¼Œä½†æ˜¯æ­¤èµ„æºæ­£åœ¨è¢«Bçº¿ç¨‹ä½¿ç”¨ä¸­ï¼Œå› ä¸ºæ²¡æœ‰åŒæ­¥æœºåˆ¶å­˜åœ¨ï¼ŒAçº¿ç¨‹
> ä»ç„¶è¯·æ±‚çš„åˆ°ï¼ŒAçº¿ç¨‹æ— éœ€ç­‰å¾…



[CS-Notes/Java å¹¶å‘.md at master Â· CyC2018/CS-Notes](https://github.com/CyC2018/CS-Notes/blob/master/notes/Java%20%E5%B9%B6%E5%8F%91.md "CS-Notes/Java å¹¶å‘.md at master Â· CyC2018/CS-Notes")

æœ‰ä¸‰ç§ä½¿ç”¨çº¿ç¨‹çš„æ–¹æ³•ï¼š

- å®ç° Runnable æ¥å£ï¼›
- å®ç° Callable æ¥å£ï¼›
- ç»§æ‰¿ Thread ç±»ã€‚





çº¿ç¨‹çš„çŠ¶æ€ï¼š

- æ–°å»º ï¼šnewä¸€ä¸ªçº¿ç¨‹å¯¹è±¡t1
- å°±ç»ªï¼šè°ƒç”¨ t1.start() æ–¹æ³•å
- è¿è¡Œï¼šè·å–äº†CPUåï¼Œå¼€å§‹å›è°ƒ run()
- é˜»å¡ï¼šè°ƒç”¨ wait()ï¼Œjoin()ï¼Œsleep()ï¼Œyield()
- æ­»äº¡ï¼šrun() è¿è¡Œç»“æŸ

![](https://images2015.cnblogs.com/blog/690102/201607/690102-20160729173428903-1601306354.jpg)

> Objectç±»çš„æ–¹æ³•ï¼ˆåªæœ‰**è·å¾—é”çš„çº¿ç¨‹**é€šè¿‡**åŒæ­¥é”å¯¹è±¡**è°ƒç”¨è¿™äº›æ–¹æ³•ï¼‰ï¼š 
>
> - wait() çº¿ç¨‹ç­‰å¾…ï¼šObjectç±»ä¸­çš„wait()æ–¹æ³•ï¼Œå¯¼è‡´å½“å‰çš„çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹è°ƒç”¨æ­¤å¯¹è±¡çš„ notify() æ–¹æ³•æˆ– notifyAll() å”¤é†’æ–¹æ³•ã€‚
> - notify()ï¼ŒnotifyAll() çº¿ç¨‹å”¤é†’ï¼šObjectç±»ä¸­çš„notify()æ–¹æ³•ï¼Œå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šï¼ˆå”¤é†’wait setä¸­çš„ä¸€æ¡çº¿ç¨‹ï¼‰ç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ã€‚å¦‚æœæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨æ­¤å¯¹è±¡ä¸Šç­‰å¾…ï¼Œåˆ™ä¼šé€‰æ‹©å”¤é†’å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ã€‚
> - ä¸æ¯ä¸ªå¯¹è±¡å…·æœ‰é”ä¸€æ ·ï¼Œæ¯ä¸ªå¯¹è±¡å¯ä»¥æœ‰ä¸€ä¸ªçº¿ç¨‹åˆ—è¡¨ï¼Œä»–ä»¬ç­‰å¾…æ¥è‡ªè¯¥ä¿¡å·ï¼ˆé€šçŸ¥ï¼‰ã€‚çº¿ç¨‹é€šè¿‡æ‰§è¡Œ(åŒæ­¥é”)å¯¹è±¡ä¸Šçš„`wait()`æ–¹æ³•è·å¾—è¿™ä¸ªç­‰å¾…åˆ—è¡¨ã€‚ä»é‚£æ—¶å€™èµ·ï¼Œå®ƒä¸å†æ‰§è¡Œä»»ä½•å…¶ä»–æŒ‡ä»¤ï¼Œç›´åˆ°è°ƒç”¨å¯¹è±¡çš„notify()æ–¹æ³•ä¸ºæ­¢ã€‚
>
> Threadä¸­çš„é™æ€æ–¹æ³•ï¼š 
>
> - sleep() çº¿ç¨‹ä¼‘çœ ï¼šä½¿çº¿ç¨‹è½¬åˆ°é˜»å¡çŠ¶æ€ï¼Œå½“ç¡çœ ç»“æŸåï¼Œå°±è½¬ä¸ºå°±ç»ªï¼ˆRunnableï¼‰çŠ¶æ€ã€‚sleep()å¹³å°ç§»æ¤æ€§å¥½ã€‚
> - Thread.yield() çº¿ç¨‹è®©æ­¥ï¼šæš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼ŒæŠŠæ‰§è¡Œæœºä¼šè®©ç»™ç›¸åŒæˆ–è€…æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹ã€‚
>
> Threadç±»ä¸­çš„æ–¹æ³•ï¼š 
>
> - join()ï¼šä½¿å…¶å®ƒçº¿ç¨‹ç­‰å¾…å½“å‰çº¿ç¨‹ç»ˆæ­¢
>
>





1ã€æ¯ä¸ªçº¿ç¨‹éƒ½å°†å¯åŠ¨ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½å°†è¿è¡Œç›´åˆ°å®Œæˆã€‚ä¸€ç³»åˆ—çº¿ç¨‹ä»¥æŸç§é¡ºåºå¯åŠ¨å¹¶ä¸æ„å‘³ç€å°†æŒ‰è¯¥é¡ºåºæ‰§è¡Œã€‚å¯¹äºä»»ä½•ä¸€ç»„å¯åŠ¨çš„çº¿ç¨‹æ¥è¯´ï¼Œè°ƒåº¦ç¨‹åºä¸èƒ½ä¿è¯å…¶æ‰§è¡Œæ¬¡åºï¼ŒæŒç»­æ—¶é—´ä¹Ÿæ— æ³•ä¿è¯ã€‚

2ã€å½“çº¿ç¨‹ç›®æ ‡`run()`æ–¹æ³•ç»“æŸæ—¶è¯¥çº¿ç¨‹å®Œæˆã€‚

3ã€ä¸€æ—¦çº¿ç¨‹å¯åŠ¨ï¼Œå®ƒå°±æ°¸è¿œä¸èƒ½å†é‡æ–°å¯åŠ¨ã€‚åªæœ‰ä¸€ä¸ªæ–°çš„çº¿ç¨‹å¯ä»¥è¢«å¯åŠ¨ï¼Œå¹¶ä¸”åªèƒ½ä¸€æ¬¡ã€‚ä¸€ä¸ªå¯è¿è¡Œçš„çº¿ç¨‹æˆ–æ­»çº¿ç¨‹å¯ä»¥è¢«é‡æ–°å¯åŠ¨ã€‚



### **çº¿ç¨‹åœæ­¢çš„æ­£ç¡®æ–¹æ³•**

- stopæ–¹æ³•ï¼šè¯¥æ–¹æ³•ä½¿çº¿ç¨‹æˆ›ç„¶è€Œæ­¢ï¼ˆçªç„¶åœæ­¢ï¼‰ï¼Œå®Œæˆäº†å“ªäº›å·¥ä½œï¼Œå“ªäº›å·¥ä½œè¿˜æ²¡æœ‰åšéƒ½ä¸æ¸…æ¥šï¼Œä¸”æ¸…ç†å·¥ä½œä¹Ÿæ²¡æœ‰åšã€‚æ‰€ä»¥ä¸æ¨èã€‚

- æ­£ç¡®æ–¹æ³•ï¼Œä½¿ç”¨`volatile`å…³é”®å­—è®¾ç½®é€€å‡ºæ ‡å¿—ï¼Œæ¯”å¦‚ï¼š

  ```java
  /**
   * å†›é˜Ÿçº¿ç¨‹
   * æ¨¡æ‹Ÿä½œæˆ˜åŒæ–¹çš„è¡Œä¸º
   */
  public class ArmyRunnable implements Runnable {
  
      /* volatileå…³é”®å­—
       * volatileä¿è¯äº†çº¿ç¨‹å¯ä»¥æ­£ç¡®çš„è¯»å–å…¶ä»–çº¿ç¨‹å†™å…¥çš„å€¼
       * å¦‚æœä¸å†™æˆvolatileï¼Œç”±äºå¯è§æ€§çš„é—®é¢˜ï¼Œå½“å‰çº¿ç¨‹æœ‰å¯èƒ½ä¸èƒ½è¯»åˆ°è¿™ä¸ªå€¼
       * å…³äºå¯è§æ€§çš„é—®é¢˜å¯ä»¥å‚è€ƒJVMï¼ˆJavaå†…å­˜æ¨¡å‹ï¼‰ï¼Œé‡Œé¢è®²è¿°äº†ï¼šhappens-beforeåŸåˆ™ã€å¯è§æ€§
       * ç”¨volatileä¿®é¥°çš„å˜é‡ï¼Œçº¿ç¨‹åœ¨æ¯æ¬¡ä½¿ç”¨å˜é‡çš„æ—¶å€™ï¼Œéƒ½ä¼šè¯»å–å˜é‡ä¿®æ”¹åçš„å€¼
       */
      volatile boolean keepRunning = true;
  
      @Override
      public void run() {
         //æ£€æµ‹é€€å‡ºæ ‡å¿—
          while (keepRunning) {
              //å‘åŠ¨5è¿å‡»
              for(int i=0;i<5;i++){
                  System.out.println(Thread.currentThread().getName()+"è¿›æ”»å¯¹æ–¹["+i+"]");
                  //è®©å‡ºäº†å¤„ç†å™¨æ—¶é—´ï¼Œä¸‹æ¬¡è¯¥è°è¿›æ”»è¿˜ä¸ä¸€å®šå‘¢ï¼
                  Thread.yield();//yield()å½“å‰è¿è¡Œçº¿ç¨‹é‡Šæ”¾å¤„ç†å™¨èµ„æº
              } 
          }
          System.out.println(Thread.currentThread().getName()+"ç»“æŸäº†æˆ˜æ–—ï¼");
      }
  
  }
  ```

  åœ¨å…¶å®ƒçº¿ç¨‹ä¸­ï¼ˆè¿™é‡Œæ˜¯åœ¨å¦ä¸€ä¸ªç±»ä¸­ï¼‰æ›´æ”¹é€€å‡ºæ ‡å¿—çš„å€¼ï¼š

  ```java
  ArmyRunnable armyTaskOfRevolt = new ArmyRunnable();
  //ä½¿ç”¨Runnableæ¥å£åˆ›å»ºçº¿ç¨‹
  Thread  armyOfRevolt = new Thread(armyTaskOfRevolt,"å†œæ°‘èµ·ä¹‰å†›");
  armyOfRevolt.start();
  //æ›´æ”¹é€€å‡ºæ ‡å¿—ï¼ˆåœæ­¢çº¿ç¨‹çš„æ–¹æ³•ï¼‰(Runnableä¸­çš„å±æ€§)
  armyTaskOfRevolt.keepRunning = false;
  ```



### volatileå…³é”®å­—

è®²è§£volatileå…³é”®å­—å‰å…ˆäº†è§£å¤šçº¿ç¨‹çš„ä¸‰å¤§æ ¸å¿ƒï¼š

- åŸå­æ€§
- å¯è§æ€§
- é¡ºåºæ€§



**å¯è§æ€§ï¼š**

ç°ä»£è®¡ç®—æœºä¸­ï¼Œç”±äº `CPU` ç›´æ¥ä»ä¸»å†…å­˜ä¸­è¯»å–æ•°æ®çš„æ•ˆç‡ä¸é«˜ï¼Œæ‰€ä»¥éƒ½ä¼šå¯¹åº”çš„ `CPU` é«˜é€Ÿç¼“å­˜ï¼Œå…ˆå°†ä¸»å†…å­˜ä¸­çš„æ•°æ®è¯»å–åˆ°ç¼“å­˜ä¸­ï¼Œçº¿ç¨‹ä¿®æ”¹æ•°æ®ä¹‹å**é¦–å…ˆæ›´æ–°åˆ°ç¼“å­˜**ï¼Œä¹‹åæ‰ä¼šæ›´æ–°åˆ°ä¸»å†…å­˜ã€‚å¦‚æœæ­¤æ—¶è¿˜æ²¡æœ‰å°†æ•°æ®æ›´æ–°åˆ°ä¸»å†…å­˜å…¶ä»–çš„çº¿ç¨‹æ­¤æ—¶æ¥è¯»å–å°±æ˜¯ä¿®æ”¹ä¹‹å‰çš„æ•°æ®ã€‚

```
+--------+
|  CPU   |
+---+----+
    ^
    |
+---+-----+
| é«˜é€Ÿç¼“å­˜ |
+---+-----+
    ^
    |    
+---+-----+
|  å†…å­˜    |
+---------+
```

`volatile` å…³é”®å­—å°±æ˜¯ç”¨äºä¿è¯å†…å­˜å¯è§æ€§ï¼Œå½“çº¿ç¨‹Aæ›´æ–°äº† volatile ä¿®é¥°çš„å˜é‡æ—¶ï¼Œå®ƒä¼šç«‹å³åˆ·æ–°åˆ°ä¸»çº¿ç¨‹ï¼Œå¹¶ä¸”å°†å…¶ä½™ç¼“å­˜ä¸­è¯¥å˜é‡çš„å€¼æ¸…ç©ºï¼Œå¯¼è‡´å…¶ä½™çº¿ç¨‹åªèƒ½å»ä¸»å†…å­˜è¯»å–æœ€æ–°å€¼ã€‚

ä½¿ç”¨ `volatile` å…³é”®è¯ä¿®é¥°çš„å˜é‡æ¯æ¬¡è¯»å–éƒ½ä¼šå¾—åˆ°æœ€æ–°çš„æ•°æ®ï¼Œä¸ç®¡å“ªä¸ªçº¿ç¨‹å¯¹è¿™ä¸ªå˜é‡çš„ä¿®æ”¹éƒ½ä¼šç«‹å³åˆ·æ–°åˆ°ä¸»å†…å­˜ã€‚

`synchronized`å’ŒåŠ é”ä¹Ÿèƒ½èƒ½ä¿è¯å¯è§æ€§ï¼Œå®ç°åŸç†å°±æ˜¯åœ¨é‡Šæ”¾é”ä¹‹å‰å…¶ä½™çº¿ç¨‹æ˜¯è®¿é—®ä¸åˆ°è¿™ä¸ªå…±äº«å˜é‡çš„ã€‚ä½†æ˜¯å’Œ `volatile`ç›¸æ¯”å¼€é”€è¾ƒå¤§ã€‚



**é¡ºåºæ€§ï¼š**





> è¿™æ ·çœ‹æ¥ï¼Œvolatileå’ŒåŠ é”éƒ½å¯ä»¥ä¿è¯ å¯è§æ€§å’Œé¡ºåºæ€§



- `volatile` å…³é”®å­—åªèƒ½ä¿è¯å¯è§æ€§ï¼Œé¡ºåºæ€§ï¼Œ**ä¸èƒ½ä¿è¯åŸå­æ€§**ã€‚



volatile å…³é”®å­—çš„åº”ç”¨ï¼š

- å†…å­˜å¯è§æ€§æ–¹é¢çš„åº”ç”¨ï¼šæ§åˆ¶åœæ­¢çº¿ç¨‹çš„æ ‡è®°
- é¡ºåºæ€§æ–¹é¢çš„åº”ç”¨ï¼šåŒé‡æ£€æŸ¥é”çš„å•ä¾‹æ¨¡å¼



 è¯¦è§ [JCSprout/Javaå¤šçº¿ç¨‹ä¸‰å¤§æ ¸å¿ƒ](https://github.com/crossoverJie/JCSprout/blob/master/MD/Threadcore.md "JCSprout/Threadcore.md at master Â· crossoverJie/JCSprout")

[ä¸€ç¯‡æ–‡ç« çœ‹æ‡‚Javaå¹¶å‘å’Œçº¿ç¨‹å®‰å…¨ï¼ˆä¸€ï¼‰-æŠ€æœ¯å¼€å‘ä¸“åŒº](http://tech.it168.com/a2018/0709/3213/000003213573.shtml "ä¸€ç¯‡æ–‡ç« çœ‹æ‡‚Javaå¹¶å‘å’Œçº¿ç¨‹å®‰å…¨ï¼ˆä¸€ï¼‰-æŠ€æœ¯å¼€å‘ä¸“åŒº")



### **çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«** 

- **è¿›ç¨‹**ï¼š*æ˜¯æŒ‡ä¸€ä¸ªå†…å­˜ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„å†…å­˜ç©ºé—´*ï¼Œä¸€ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼›è¿›ç¨‹ä¹Ÿæ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿è¡Œç¨‹åºçš„åŸºæœ¬å•ä½ï¼›ç³»ç»Ÿè¿è¡Œä¸€ä¸ªç¨‹åºå³æ˜¯ä¸€ä¸ªè¿›ç¨‹ä»åˆ›å»ºã€è¿è¡Œåˆ°æ¶ˆäº¡çš„è¿‡ç¨‹ã€‚å¤§ç™½è¯: å¯æ‰§è¡Œæ–‡ä»¶(.exe) ä¸€ä¸ªåº”ç”¨ç¨‹åºæœ‰å¤šä¸ªè¿›ç¨‹
- **çº¿ç¨‹**ï¼š*è¿›ç¨‹å†…éƒ¨çš„ä¸€ä¸ªç‹¬ç«‹æ‰§è¡Œå•å…ƒ*ï¼›ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶å¹¶å‘çš„è¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè¿›ç¨‹ä¾¿ç›¸å½“äºä¸€ä¸ªå• CPU æ“ä½œç³»ç»Ÿï¼Œè€Œçº¿ç¨‹ä¾¿æ˜¯è¿™ä¸ªç³»ç»Ÿä¸­è¿è¡Œçš„å¤šä¸ªä»»åŠ¡ã€‚çº¿ç¨‹: è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒ

- è¿›ç¨‹ï¼šæœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹ä¸­çš„æ•°æ®å­˜æ”¾ç©ºé—´ï¼ˆå †ç©ºé—´å’Œæ ˆç©ºé—´ï¼‰æ˜¯ç‹¬ç«‹çš„ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚
- çº¿ç¨‹ï¼š*å †ç©ºé—´æ˜¯å…±äº«çš„ï¼Œæ ˆç©ºé—´æ˜¯ç‹¬ç«‹çš„*ï¼Œçº¿ç¨‹æ¶ˆè€—çš„èµ„æºæ¯”è¿›ç¨‹å°çš„å¤šã€‚



### **start()å’Œrun()æ–¹æ³•**

å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ˜¯è°ƒç”¨ `start()`æ–¹æ³•ï¼Œä½¿çº¿ç¨‹æ‰€ä»£è¡¨çš„è™šæ‹Ÿå¤„ç†æœºå¤„äºå¯è¿è¡ŒçŠ¶æ€ï¼Œè¿™æ„å‘³ç€å®ƒå¯ä»¥ç”± JVM è°ƒåº¦å¹¶
æ‰§è¡Œï¼Œ*è¿™å¹¶ä¸æ„å‘³ç€çº¿ç¨‹å°±ä¼šç«‹å³è¿è¡Œ*ã€‚
`run()`æ–¹æ³•æ˜¯çº¿ç¨‹å¯åŠ¨åè¦è¿›è¡Œå›è°ƒï¼ˆcallbackï¼‰çš„æ–¹æ³•ã€‚ 





### **çº¿ç¨‹åŒæ­¥æœºåˆ¶**



> è¿™é‡Œæœ‰ä¸€ç§è¯´æ³•ï¼Œäº’æ–¥ä¸åŒæ­¥ï¼š
>
> **äº’æ–¥çš„å®ç°ï¼ˆåŠ é”ï¼‰**ï¼š`synchronized(lockObj)`ï¼›ä¿è¯çš„åŒä¸€æ—¶é—´ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹è·å¾—`lockObj`ã€‚
>
> **åŒæ­¥çš„å®ç°ï¼šwait()/notify()/notifyAll()** 
>
> åŒæ­¥æ˜¯ä¸¤ä¸ªçº¿ç¨‹ä¹‹é—´çš„ä¸€ç§äº¤äº’çš„æ“ä½œï¼ˆä¸€ä¸ªçº¿ç¨‹å‘å‡ºæ¶ˆæ¯å¦å¤–ä¸€ä¸ªçº¿ç¨‹å“åº”ï¼‰ï¼ˆå„è‡ªè°ƒç”¨åŒä¸€æŠŠé”çš„ç›¸å…³æ–¹æ³•ï¼‰ 



åŒæ­¥é”ï¼š

- é”å¯¹è±¡ å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚
- Javaä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…ç½®é”
- å¤šä¸ªçº¿ç¨‹å¯¹è±¡  è¦ä½¿ç”¨åŒä¸€æŠŠé”ï¼ˆæ³¨æ„ï¼šåŒä¸€ä¸ªç±»çš„ä¸¤ä¸ªä¸åŒå¯¹è±¡æ˜¯ä¸åŒçš„é”ï¼‰ã€‚
- çº¿ç¨‹å¯ä»¥è·å¾—å¤šä¸ªé”ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸€ä¸ªå¯¹è±¡çš„åŒæ­¥æ–¹æ³•é‡Œé¢è°ƒç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„åŒæ­¥æ–¹æ³•ï¼Œåˆ™è·å–äº†ä¸¤ä¸ªå¯¹è±¡çš„åŒæ­¥é”ã€‚
- å½“ç¨‹åºè¿è¡Œåˆ°éé™æ€çš„synchronizedåŒæ­¥æ–¹æ³•ä¸Šæ—¶ï¼Œè‡ªåŠ¨è·å¾—ä¸æ­£åœ¨æ‰§è¡Œä»£ç ç±»çš„å½“å‰å®ä¾‹ï¼ˆthiså®ä¾‹ï¼‰æœ‰å…³çš„é”ã€‚
- æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªé”ï¼Œè¿™ä¸ªé”ä¸ä¸€ä¸ªç‰¹å®šçš„**å¯¹è±¡**å…³è”ã€‚





- åŒæ­¥ä»£ç å—ï¼š`synchronized` å…³é”®å­—å¯ä»¥ç”¨äºæ–¹æ³•ä¸­çš„æŸä¸ªåŒºå—ä¸­ï¼Œè¡¨ç¤ºåªå¯¹è¿™ä¸ªåŒºå—çš„èµ„æºå®è¡Œäº’æ–¥è®¿é—®

  ```java
  synchronized(åŒæ­¥é”){
      éœ€è¦åŒæ­¥çš„ä»£ç 
  }
  ```

- åŒæ­¥æ–¹æ³•ï¼šä½¿ç”¨`synchronized`ä¿®é¥°çš„æ–¹æ³•,å°±å«åšåŒæ­¥æ–¹æ³•

  ```java
  public synchronized void method(){
     	å¯èƒ½ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç 
  }
  ```

  æ­¤æ—¶åŒæ­¥é”æ˜¯è°?

  â€‹      å¯¹äºé static æ–¹æ³•ï¼ŒåŒæ­¥é”å°±æ˜¯ thisã€‚  

  â€‹      å¯¹äº staticæ–¹æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨å½“å‰æ–¹æ³•æ‰€åœ¨ç±»çš„å­—èŠ‚ç å¯¹è±¡ (ç±»å.class)ã€‚

- Locké” ï¼ˆ`java.util.concurrent.locks.Lock` æä¾›ï¼‰

  ```java
  Lock lock = new ReentrantLock();
  ...
  lock.lock();
  //è¦åŒæ­¥çš„æ“ä½œ
  lock.unlock();
  ```


> æ³¨æ„:åœ¨ä»»ä½•æ—¶å€™,æœ€å¤šå…è®¸ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰åŒæ­¥é”,è°æ‹¿åˆ°é”å°±è¿›å…¥ä»£ç å—,å…¶ä»–çš„çº¿ç¨‹åªèƒ½åœ¨å¤–ç­‰ç€(BLOCKED)ã€‚



**sleep() :**

1. ä¸ºäº†è®©å…¶ä»–çº¿ç¨‹æœ‰æœºä¼šæ‰§è¡Œï¼Œå¯ä»¥å°†Thread.sleep()çš„è°ƒç”¨**æ”¾çº¿ç¨‹run()ä¹‹å†…**ã€‚è¿™æ ·æ‰èƒ½ä¿è¯è¯¥çº¿ç¨‹æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šç¡çœ ã€‚
2. sleepä¸é”æ— å…³ï¼Œçº¿ç¨‹ç¡çœ åˆ°æœŸè‡ªåŠ¨è‹é†’ï¼Œå¹¶è¿”å›åˆ°Runnableï¼ˆå¯è¿è¡Œï¼‰çŠ¶æ€ã€‚

![](https://raw.githubusercontent.com/fandean/images/master/PicGo/%E7%BA%BF%E7%A8%8B%E7%8A%B6%E6%80%81%E5%9B%BE.png)

> å°æç¤ºï¼šsleep()ä¸­æŒ‡å®šçš„æ—¶é—´æ˜¯çº¿ç¨‹ä¸ä¼šè¿è¡Œçš„æœ€çŸ­æ—¶é—´ã€‚å› æ­¤ï¼Œsleep()æ–¹æ³•ä¸èƒ½ä¿è¯è¯¥çº¿ç¨‹ç¡çœ åˆ°æœŸåå°±å¼€å§‹ç«‹åˆ»æ‰§è¡Œã€‚





### **æ­»é”**

[æ­»é”_ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/%E6%AD%BB%E9%94%81 "æ­»é”_ç™¾åº¦ç™¾ç§‘")ï¼Œ

æ­»é”äº§ç”Ÿçš„åŸå› æœ‰å¾ˆå¤šï¼š

- æ˜¯å¤šä¸ªçº¿ç¨‹åŒæ—¶è¢«é˜»å¡ï¼Œå®ƒä»¬ä¸­çš„ä¸€ä¸ªæˆ–è€…å…¨éƒ¨éƒ½åœ¨ç­‰å¾…æŸä¸ªèµ„æºè¢«é‡Šæ”¾ã€‚
- å…¸å‹çš„å¦ä¸€ä¸ªç¤ºä¾‹: ![](http://stepimagewm.how2j.cn/794.png)



æ­»é”äº§ç”Ÿçš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼š

ç•¥





### **ThreadLocal** 

ThreadLocalï¼Œå¾ˆå¤šåœ°æ–¹å«åšçº¿ç¨‹æœ¬åœ°å˜é‡ï¼Œä¹Ÿæœ‰äº›åœ°æ–¹å«åšçº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼Œå…¶å®æ„æ€å·®ä¸å¤šã€‚å¯èƒ½å¾ˆå¤šæœ‹å‹éƒ½çŸ¥é“**ThreadLocalä¸ºå˜é‡åœ¨æ¯ä¸ªçº¿ç¨‹ä¸­éƒ½åˆ›å»ºäº†ä¸€ä¸ªå‰¯æœ¬**ï¼Œé‚£ä¹ˆæ¯ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®è‡ªå·±å†…éƒ¨çš„å‰¯æœ¬å˜é‡ã€‚



> [Spring Beanå•ä¾‹ä¸çº¿ç¨‹å®‰å…¨ ](https://www.cnblogs.com/redcool/p/6398760.html "Spring Beanå•ä¾‹ä¸çº¿ç¨‹å®‰å…¨ - ä½è°ƒçš„å°é»‘ - åšå®¢å›­") 
>
> **ThreadLocal** å’Œ **çº¿ç¨‹åŒæ­¥æœºåˆ¶** ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿å‘¢ï¼Ÿ**ä»–ä»¬éƒ½æ˜¯ä¸ºäº†è§£å†³å¤šçº¿ç¨‹ä¸­ç›¸åŒå˜é‡çš„è®¿é—®å†²çªé—®é¢˜**ã€‚
>
> æ¦‚æ‹¬èµ·æ¥è¯´ï¼Œå¯¹äºå¤šçº¿ç¨‹èµ„æºå…±äº«çš„é—®é¢˜ï¼Œ**åŒæ­¥æœºåˆ¶é‡‡ç”¨äº†â€œä»¥æ—¶é—´æ¢ç©ºé—´â€çš„æ–¹å¼ï¼Œè€ŒThreadLocalé‡‡ç”¨äº†â€œä»¥ç©ºé—´æ¢æ—¶é—´â€çš„æ–¹å¼**ã€‚å‰è€…ä»…æä¾›ä¸€ä»½å˜é‡ï¼Œè®©ä¸åŒçš„çº¿ç¨‹æ’é˜Ÿè®¿é—®ï¼Œè€Œåè€…ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æä¾›äº†ä¸€ä»½å˜é‡ï¼Œå› æ­¤å¯ä»¥åŒæ—¶è®¿é—®è€Œäº’ä¸å½±å“ã€‚
>
> Springä½¿ç”¨ThreadLocalè§£å†³**çº¿ç¨‹å®‰å…¨é—®é¢˜** 







### **çº¿ç¨‹æ± ** ThreadPool

ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± ï¼Ÿ ç”±ç³»ç»Ÿç»´æŠ¤çš„å®¹çº³çº¿ç¨‹çš„å®¹å™¨ã€‚

çº¿ç¨‹æ± ä½œç”¨å°±æ˜¯é™åˆ¶ç³»ç»Ÿä¸­æ‰§è¡Œçº¿ç¨‹çš„æ•°é‡ï¼›å› ä¸º

- åˆ›å»º/é”€æ¯çº¿ç¨‹ä¼´éšç€ç³»ç»Ÿå¼€é”€ï¼Œè¿‡äºé¢‘ç¹çš„åˆ›å»º/é”€æ¯çº¿ç¨‹ï¼Œä¼šå¾ˆå¤§ç¨‹åº¦ä¸Šå½±å“å¤„ç†æ•ˆç‡
- çº¿ç¨‹å¹¶å‘æ•°é‡è¿‡å¤šï¼ŒæŠ¢å ç³»ç»Ÿèµ„æºä»è€Œå¯¼è‡´é˜»å¡
- å¯¹çº¿ç¨‹è¿›è¡Œä¸€äº›ç®€å•çš„ç®¡ç†

æˆ‘ä»¬å¯ä»¥æŠŠå¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡ä¼ é€’ç»™ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæ¥æ›¿ä»£ä¸ºæ¯ä¸ªå¹¶å‘æ‰§è¡Œçš„ä»»åŠ¡éƒ½å¯åŠ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚åªè¦æ± é‡Œæœ‰ç©ºé—²çš„çº¿ç¨‹ï¼Œä»»åŠ¡å°±ä¼šåˆ†é…ç»™ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œã€‚åœ¨çº¿ç¨‹æ± çš„å†…éƒ¨ï¼Œä»»åŠ¡è¢«æ’å…¥ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼ˆ[Blocking Queue](http://tutorials.jenkov.com/java-concurrency/blocking-queues.html) ï¼‰ï¼Œçº¿ç¨‹æ± é‡Œçš„çº¿ç¨‹ä¼šå»å–è¿™ä¸ªé˜Ÿåˆ—é‡Œçš„ä»»åŠ¡ã€‚å½“ä¸€ä¸ªæ–°ä»»åŠ¡æ’å…¥é˜Ÿåˆ—æ—¶ï¼Œä¸€ä¸ªç©ºé—²çº¿ç¨‹å°±ä¼šæˆåŠŸçš„ä»é˜Ÿåˆ—ä¸­å–å‡ºä»»åŠ¡å¹¶ä¸”æ‰§è¡Œå®ƒã€‚



åœ¨Javaä¸­ï¼Œçº¿ç¨‹æ± çš„æ¦‚å¿µæ˜¯Executorè¿™ä¸ªæ¥å£ï¼Œå…·ä½“å®ç°ä¸ºThreadPoolExecutorç±»



> å¤šçº¿ç¨‹ä¹‹é—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼š
>
> ä¸Šä¸‹æ–‡åˆ‡æ¢æ˜¯éå¸¸è€—æ•ˆç‡çš„ã€‚
>
>



é¢è¯•é—®é¢˜ï¼š

- çº¿ç¨‹æ± çš„ä»»åŠ¡æ‹’ç»ç­–ç•¥
- åˆ›å»ºçº¿ç¨‹æ± çš„å‡ ä¸ªå‚æ•°ï¼ˆæ‰‹å†™ï¼‰



> [çº¿ç¨‹æ± çš„ä»‹ç»åŠç®€å•å®ç°](http://www.ibm.com/developerworks/cn/java/l-threadPool/index.html "çº¿ç¨‹æ± çš„ä»‹ç»åŠç®€å•å®ç°")
>
> [çº¿ç¨‹æ±   å¹¶å‘ç¼–ç¨‹ç½‘ â€“ ifeve.com](http://ifeve.com/thread-pools/ "çº¿ç¨‹æ±   å¹¶å‘ç¼–ç¨‹ç½‘ â€“ ifeve.com") è¿™é‡Œæœ‰ä¸€ä¸ªæ›´ç®€å•çš„å®ç°ã€‚
>
> [Java ThreadPoolExecutor çº¿ç¨‹æ± æºç åˆ†æ - ç®€ä¹¦](https://www.jianshu.com/p/8c772124f17e?utm_campaign=maleskine&utm_content=note&utm_medium=seo_notes&utm_source=recommendation "Java ThreadPoolExecutor çº¿ç¨‹æ± æºç åˆ†æ - ç®€ä¹¦")



[CarpenterLee/JCRecipes: Java Concurrency Recipes, ä»‹ç»Javaå¹¶å‘ç›¸å…³çš„å¸¸è§å·¥å…·ç±»ã€‚](https://github.com/CarpenterLee/JCRecipes "CarpenterLee/JCRecipes: Java Concurrency Recipes, ä»‹ç»Javaå¹¶å‘ç›¸å…³çš„å¸¸è§å·¥å…·ç±»ã€‚")





### **å¹¶å‘é˜Ÿåˆ—**

- é˜»å¡é˜Ÿåˆ—ï¼šä½¿ç”¨é”å®ç°ã€‚![](https://raw.githubusercontent.com/fandean/images/master/PicGo/%E5%B9%B6%E5%8F%91%E9%98%9F%E5%88%97%E4%B9%8B%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97.png)

  ç‰¹ç‚¹ï¼šè‹¥é˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™å…¥é˜Ÿæ“ä½œä¼šè¢«é˜»å¡ï¼›è‹¥é˜Ÿåˆ—ä¸ºç©ºï¼Œå‡ºé˜Ÿæ“ä½œè¢«é˜»å¡ã€‚

  æ¯”å¦‚ä¸€äº›ä»»åŠ¡é˜Ÿåˆ—å°±å±äºé˜»å¡é˜Ÿåˆ—

- éé˜»å¡é˜Ÿåˆ—ï¼šä½¿ç”¨CASç®—æ³•å®ç°ã€‚(äº†è§£CASç®—æ³•å‰ï¼Œéœ€è¦å…ˆäº†è§£**æ‚²è§‚é”**å’Œ**ä¹è§‚é”**)

  ä¸ºä»€ä¹ˆå«éé˜»å¡é˜Ÿåˆ—ï¼Ÿ

  ä¸é˜»å¡é˜Ÿåˆ—ç›¸åï¼Œéé˜»å¡é˜Ÿåˆ—çš„æ‰§è¡Œå¹¶ä¸ä¼šè¢«é˜»å¡ï¼Œæ— è®ºæ˜¯æ¶ˆè´¹è€…çš„å‡ºé˜Ÿï¼Œè¿˜æ˜¯ç”Ÿäº§è€…çš„å…¥é˜Ÿã€‚ 



> è¡¥å……ï¼š
>
> #### ConcurrentHashMap éé˜»å¡ Hash é›†åˆ
>
> ConcurrentHashMap æ˜¯ Java å¹¶å‘åŒ…ä¸­æä¾›çš„ä¸€ä¸ªçº¿ç¨‹å®‰å…¨ä¸”é«˜æ•ˆçš„ HashMap å®ç°ï¼Œ ConcurrentHashMapåœ¨å¹¶å‘ç¼–ç¨‹çš„åœºæ™¯ä¸­ä½¿ç”¨é¢‘ç‡éå¸¸ä¹‹é«˜ ã€‚å…¶å®ç°åŸç†è§ ã€ŠJavaé¢è¯•å®å…¸Beta5.0ã€‹ç¬¬214é¡µ
>
> #### SkipList (è·³è·ƒè¡¨)
>
> æ¥æºï¼šConcurrentSkipListMap éé˜»å¡ Hash è·³è¡¨é›†åˆ 
>
> æ˜¯ä¸€ç§å¯ä»¥ä»£æ›¿å¹³è¡¡æ ‘çš„æ•°æ®ç»“æ„ï¼Œé»˜è®¤æ˜¯æŒ‰ç…§ Key å€¼å‡åºçš„ ã€‚è·³è·ƒè¡¨ï¼ˆskiplistï¼‰æ˜¯ä¸€ç§æœ‰åºæ•°æ®ç»“æ„ï¼Œ å®ƒé€šè¿‡åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸­ç»´æŒå¤šä¸ªæŒ‡å‘å…¶ä»–èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œ ä»è€Œè¾¾åˆ°å¿«é€Ÿè®¿é—®èŠ‚ç‚¹çš„ç›®çš„ã€‚
>
> [è·³è·ƒè¡¨ â€” Redis è®¾è®¡ä¸å®ç°](http://redisbook.com/preview/skiplist/content.html "è·³è·ƒè¡¨ â€” Redis è®¾è®¡ä¸å®ç°")
>
>

CountDownLatch 
CyclicBarrier 

> - **å¹¶è¡Œ**ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨**åŒä¸€æ—¶åˆ»**å‘ç”Ÿï¼ˆåŒæ—¶å‘ç”Ÿï¼‰ã€‚
> - **å¹¶å‘**ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨**åŒä¸€ä¸ªæ—¶é—´æ®µå†…**å‘ç”Ÿã€‚

[è¯´è¯´Runnableä¸Callable - æ¯å¤©ä¸€ç‚¹ - åšå®¢å›­](https://www.cnblogs.com/frinder6/p/5507082.html "è¯´è¯´Runnableä¸Callable - æ¯å¤©ä¸€ç‚¹ - åšå®¢å›­")

[Javaå¹¶å‘ç¼–ç¨‹ï¼švolatileå…³é”®å­—è§£æ - æµ· å­ - åšå®¢å›­](https://www.cnblogs.com/dolphin0520/p/3920373.html "Javaå¹¶å‘ç¼–ç¨‹ï¼švolatileå…³é”®å­—è§£æ - æµ· å­ - åšå®¢å›­")

[Javaå¹¶å‘ç¼–ç¨‹ - éšç¬”åˆ†ç±» - æµ· å­ - åšå®¢å›­](https://www.cnblogs.com/dolphin0520/category/602384.html "Javaå¹¶å‘ç¼–ç¨‹ - éšç¬”åˆ†ç±» - æµ· å­ - åšå®¢å›­")

> synchronized   ['sÉªÅ‹krÉ™naÉªzd] åŒæ­¥çš„
>
> Thread  [Î¸red] 





## åå°„

åå°„æœºåˆ¶

**åå°„çš„ç”¨é€”**
Java åå°„æœºåˆ¶æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œåœ¨å¾ˆå¤šçš„é¡¹ç›®æ¯”å¦‚ Springï¼ŒMyBatis éƒ½éƒ½å¯ä»¥çœ‹åˆ°åå°„çš„èº«å½±ã€‚é€šè¿‡åå°„æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡ŒæœŸé—´è·å–å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ã€‚åˆ©ç”¨è¿™ä¸€ç‚¹æˆ‘ä»¬å¯ä»¥å®ç°å·¥å‚æ¨¡å¼å’Œä»£ç†æ¨¡å¼ç­‰è®¾è®¡æ¨¡å¼ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è§£å†³ Java æ³›å‹æ“¦é™¤ç­‰ä»¤äººè‹¦æ¼çš„é—®é¢˜ã€‚



**åå°„çš„å®ç°**
è·å–ä¸€ä¸ªå¯¹è±¡å¯¹åº”çš„åå°„ç±»ï¼Œåœ¨ Java ä¸­æœ‰ä¸‹åˆ—æ–¹æ³•å¯ä»¥è·å–ä¸€ä¸ªå¯¹è±¡çš„åå°„ç±»

- é€šè¿‡ getClass() æ–¹æ³•
- é€šè¿‡ Class.forName() æ–¹æ³•
- ä½¿ç”¨ ç±».class
- é€šè¿‡ç±»åŠ è½½å™¨å®ç°ï¼ŒgetClassLoader()



## JVM

[CS-Notes/Java è™šæ‹Ÿæœº.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/Java%20%E8%99%9A%E6%8B%9F%E6%9C%BA.md "CS-Notes/Java è™šæ‹Ÿæœº.md at master Â· CyC2018/CS-Notes") â­

[fullstack-tutorial/05 Java è™šæ‹Ÿæœº.md](https://github.com/frank-lam/fullstack-tutorial/blob/master/notes/JavaArchitecture/05%20Java%20%E8%99%9A%E6%8B%9F%E6%9C%BA.md "fullstack-tutorial/05 Java è™šæ‹Ÿæœº.md at master Â· frank-lam/fullstack-tutorial") â­





**JVMæ˜¯ä»€ä¹ˆï¼Ÿ**

å®ƒæ˜¯ä¸€ç§åŸºäºè®¡ç®—è®¾å¤‡çš„è§„èŒƒï¼Œæ˜¯ä¸€å°è™šæ‹Ÿæœºï¼Œå³è™šæ„çš„è®¡ç®—æœºã€‚

JVMæœ‰ä¸¤ä¸ªä¸»è¦åŠŸèƒ½ï¼šå…è®¸Javaç¨‹åºè¿è¡Œåœ¨ä»»ä½•è®¾å¤‡æˆ–æ“ä½œç³»ç»Ÿï¼ˆå³â€œä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œâ€åŸåˆ™ï¼‰ï¼Œä»¥åŠç®¡ç†å’Œä¼˜åŒ–ç¨‹åºå†…å­˜ã€‚



### JVMä½“ç³»ç»“æ„



![JVMä½“ç³»ç»“æ„](https://gss3.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=9a50f20873f08202399f996d2a929088/c8ea15ce36d3d539811b19e83a87e950352ab0f2.jpg)

![](https://github.com/frank-lam/fullstack-tutorial/raw/master/notes/JavaArchitecture/assets/435918-20180701233830808-854564995.png)





JRE (JavaRuntimeEnvironmentï¼ŒJavaè¿è¡Œç¯å¢ƒ) æ‰€æœ‰çš„Javaç¨‹åºéƒ½è¦åœ¨JREä¸‹æ‰èƒ½è¿è¡Œ

JVM (JavaVirtualMachineï¼ŒJavaè™šæ‹Ÿæœº) æ˜¯JREçš„ä¸€éƒ¨åˆ†ã€‚å®ƒæ˜¯ä¸€ä¸ªè™šæ„å‡ºæ¥çš„è®¡ç®—æœºï¼Œæ˜¯é€šè¿‡åœ¨å®é™…çš„è®¡ç®—æœºä¸Šä»¿çœŸæ¨¡æ‹Ÿå„ç§è®¡ç®—æœºåŠŸèƒ½æ¥å®ç°çš„ã€‚**JVMæœ‰è‡ªå·±å®Œå–„çš„ç¡¬ä»¶æ¶æ„**ï¼Œå¦‚å¤„ç†å™¨ã€å †æ ˆã€å¯„å­˜å™¨ç­‰ï¼Œè¿˜å…·æœ‰ç›¸åº”çš„æŒ‡ä»¤ç³»ç»Ÿã€‚Javaè¯­è¨€æœ€é‡è¦çš„ç‰¹ç‚¹å°±æ˜¯è·¨å¹³å°è¿è¡Œã€‚ä½¿ç”¨JVMå°±æ˜¯ä¸ºäº†æ”¯æŒä¸æ“ä½œç³»ç»Ÿæ— å…³ï¼Œå®ç°è·¨å¹³å°ã€‚



> **JRE**ï¼ˆJava Runtime Environmentï¼‰ï¼Œå®ƒæ˜¯è¿è¡ŒJavaç¨‹åºçš„å¿…éœ€æ¡ä»¶ï¼š
>
> - æ ¸å¿ƒè™šæ‹Ÿæœºï¼ˆ**JVM**ï¼‰
> - ç±»åŠ è½½å™¨
> - å­—èŠ‚ç æ ¡éªŒå™¨
> - å¤§é‡åŸºç¡€ç±»åº“
> - ... ï¼ˆè¿è¡ŒJavaç¨‹åºçš„å…¶ä»–ç¯å¢ƒæ”¯æŒï¼‰
>
>
>
> **JDK** (Java SE Development Kit)ï¼ŒJavaæ ‡å‡†å¼€å‘åŒ…ï¼Œå®ƒåŒ…å«äº†ï¼š
>
> - Javaç¼–è¯‘å™¨
> - Javaè¿è¡Œæ—¶ç¯å¢ƒï¼ˆJREï¼‰
> - å¸¸ç”¨çš„Javaç±»åº“
>
>



**JVMåŒ…æ‹¬ï¼š**

- ç±»åŠ è½½å™¨ classloaderï¼šè£…è½½`.class`æ–‡ä»¶ã€‚ä¸¤ç§è£…è½½æ–¹å¼
  - éšå¼ï¼šè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç¢°åˆ°newæ–¹å¼ç”Ÿæˆå¯¹è±¡æ—¶ï¼Œéšå¼è°ƒç”¨classLoaderåˆ°JVM
  - æ˜¾å¼ï¼šé€šè¿‡`class.forname()`åŠ¨æ€åŠ è½½
- æ‰§è¡Œå¼•æ“ execution engine ï¼šæ‰§è¡Œå­—èŠ‚ç ï¼Œæˆ–è€…æ‰§è¡Œæœ¬åœ°æ–¹æ³•
- **è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ runtime data area**ï¼šJVM è¿è¡Œæ—¶æ•°æ®åŒº (JVM Runtime Area) å…¶å®å°±æ˜¯æŒ‡ JVM åœ¨è¿è¡ŒæœŸé—´ï¼Œå…¶å¯¹JVMå†…å­˜ç©ºé—´çš„åˆ’åˆ†å’Œåˆ†é…ã€‚JVMåœ¨è¿è¡Œæ—¶å°†æ•°æ®åˆ’åˆ†ä¸ºäº†6ä¸ªåŒºåŸŸæ¥å­˜å‚¨ã€‚ç¨‹åºå‘˜å†™çš„æ‰€æœ‰ç¨‹åºéƒ½è¢«åŠ è½½åˆ°`è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ`ä¸­ã€‚



**è¿è¡Œæ—¶æ•°æ®åŒºåŸŸä¸»è¦åŒ…æ‹¬ï¼š**

- ç¨‹åºè®¡æ•°å™¨(Program Counter)
- Javaè™šæ‹Ÿæœºæ ˆ(Stack)
- æœ¬åœ°æ–¹æ³•æ ˆ(Native Stack)ï¼šä¸Stackç±»ä¼¼ï¼Œåªä¸è¿‡å…¶ä¸ºNativeæ–¹æ³•æœåŠ¡ï¼ˆJNIç›¸å…³ï¼‰
- Javaå †(Heap)
- æ–¹æ³•åŒº(Method Area)
  - è¿è¡Œæ—¶å¸¸é‡æ± ï¼šå…¶ç©ºé—´ä»æ–¹æ³•åŒºä¸­åˆ†é…ï¼Œå­˜æ”¾çš„ä¸ºç±»ä¸­å›ºå®šçš„å¸¸é‡ä¿¡æ¯ã€æ–¹æ³•å’ŒåŸŸçš„å¼•ç”¨ä¿¡æ¯ã€‚



![](https://github.com/CyC2018/CS-Notes/raw/master/pics/85370d54-40d1-4912-bcbe-37a2481c861d.png)





å †å†…å­˜è®¾ç½®çš„å‚æ•°æ˜¯ä»€ä¹ˆï¼Ÿ

- -Xmx è®¾ç½®å †çš„æœ€å¤§ç©ºé—´å¤§å°
- -Xms è®¾ç½®å †çš„æœ€å°ç©ºé—´å¤§å°





[JVM çš„ å·¥ä½œåŸç†ï¼Œå±‚æ¬¡ç»“æ„ ä»¥åŠ GCå·¥ä½œåŸç† - æˆ‘ä»¬ä¿© - SegmentFault æ€å¦](https://segmentfault.com/a/1190000002579346 "JVM çš„ å·¥ä½œåŸç†ï¼Œå±‚æ¬¡ç»“æ„ ä»¥åŠ GCå·¥ä½œåŸç† - æˆ‘ä»¬ä¿© - SegmentFault æ€å¦") â­

[JVMå†…å¹•ï¼šJavaè™šæ‹Ÿæœºè¯¦è§£ - ImportNew](http://www.importnew.com/17770.html "JVMå†…å¹•ï¼šJavaè™šæ‹Ÿæœºè¯¦è§£ - ImportNew")



> è°ˆåˆ°å¸¸é‡æ± ï¼Œåœ¨Javaä½“ç³»ä¸­ï¼Œå…±ç”¨ä¸‰ç§å¸¸é‡æ± ã€‚åˆ†åˆ«æ˜¯å­—ç¬¦ä¸²å¸¸é‡æ± ã€Classå¸¸é‡æ± å’Œè¿è¡Œæ—¶å¸¸é‡æ± ã€‚
>
> [å¥½å¥½è¯´è¯´Javaä¸­çš„å¸¸é‡æ± ä¹‹Classå¸¸é‡æ± ](http://blog.51cto.com/13732225/2307459 "å¥½å¥½è¯´è¯´Javaä¸­çš„å¸¸é‡æ± ä¹‹Classå¸¸é‡æ± -Javaæ¶æ„çš„åšå®¢-51CTOåšå®¢") 



### JVMæ€§èƒ½è°ƒä¼˜

è°ƒä¼˜æ–¹æ³•ï¼Œè°ƒä¼˜å·¥å…·



### å†…å­˜æº¢å‡º

- JVM Heapï¼ˆå †ï¼‰æº¢å‡º

  è§£å†³åŠæ³•ï¼šæ‰‹åŠ¨è®¾ç½®JVM Heapï¼ˆå †ï¼‰çš„å¤§å°ï¼ˆæ‰©å¤§ï¼‰

- æ ˆæº¢å‡º

  è§£å†³åŠæ³•ï¼šï¼ˆå‡½æ•°çš„è°ƒç”¨å±‚æ•°è¿‡å¤šï¼‰è°ƒç”¨æ„é€ å‡½æ•°çš„ â€œå±‚â€å¤ªå¤šäº†ï¼Œé€’å½’çš„å±‚æ¬¡è¿‡å¤šã€‚

- PermGen spaceæº¢å‡ºï¼ˆå†…å­˜çš„æ°¸ä¹…ä¿å­˜åŒºåŸŸï¼‰ã€‚è¯¥åŒºåŸŸè¢« JVMå­˜æ”¾Classå’ŒMetaä¿¡æ¯çš„ï¼Œå¦‚æœè½½å…¥çš„classè¿‡å¤šä¼šå¯¼è‡´å…¶æº¢å‡º

  è§£å†³æ–¹æ³•ï¼šæ‰‹åŠ¨è®¾ç½®MaxPermSizeå¤§å°





[å¸¸è§çš„ä¸‰ç§Javaå†…å­˜æº¢å‡ºè¯¦è§£ ](http://www.jfox.info/2017/chang-jian-de-san-zhong-java-na-cun-yi-chu-xiang-jie.html "å¸¸è§çš„ä¸‰ç§Javaå†…å­˜æº¢å‡ºè¯¦è§£ ")



### åƒåœ¾å›æ”¶

> ç»“åˆ JVM

åƒåœ¾æ”¶é›†ä¸»è¦æ˜¯é’ˆå¯¹ï¼ˆJVMçš„ï¼‰å †å’Œæ–¹æ³•åŒºè¿›è¡Œã€‚

ç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆè¿™ä¸‰ä¸ªåŒºåŸŸå±äºçº¿ç¨‹ç§æœ‰çš„ï¼Œåªå­˜åœ¨äºçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œçº¿ç¨‹ç»“æŸä¹‹åä¹Ÿä¼šæ¶ˆå¤±ï¼Œå› æ­¤ä¸éœ€è¦å¯¹è¿™ä¸‰ä¸ªåŒºåŸŸè¿›è¡Œåƒåœ¾å›æ”¶ã€‚



åƒåœ¾å›æ”¶ä¸»è¦æ€è€ƒä¸‰ä»¶äº‹æƒ…ï¼š

- å“ªç§å†…å­˜éœ€è¦å›æ”¶ï¼Ÿ

- ä»€ä¹ˆæ—¶å€™å›æ”¶ï¼Ÿ

  åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»ï¼ˆä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶ï¼‰

  - å¼•ç”¨è®¡æ•°æ³•

  - å¯è¾¾æ€§åˆ†æç®—æ³•

    > è¿™ä¸¤ç§æ–¹æ³•åˆ¤å®šå¯¹è±¡æ˜¯å¦å¯è¢«å›æ”¶éƒ½ä¸å¼•ç”¨æœ‰å…³ã€‚æ‰€ä»¥è¡¥å……ä¸€ä¸‹å¼•ç”¨ç±»å‹ç›¸å…³ä¿¡æ¯ï¼š
    >
    > Java æä¾›äº†å››ç§å¼ºåº¦ä¸åŒçš„å¼•ç”¨ç±»å‹ï¼šå¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨

- æ€ä¹ˆå›æ”¶ï¼Ÿï¼ˆå¯¹åº”çš„æœ‰å¤šç§åƒåœ¾æ”¶é›†ç®—æ³•ï¼Œè¿˜æœ‰å¤šç§åƒåœ¾æ”¶é›†å™¨ï¼‰

  - æ ‡è®°-æ¸…é™¤ç®—æ³•
  - æ ‡è®°-æ•´ç†ç®—æ³•
  - å¤åˆ¶ç®—æ³•
  - åˆ†ä»£å›æ”¶ç®—æ³•





### ç±»åŠ è½½æœºåˆ¶

>  è¯¦è§ç›¸å…³å¼•ç”¨çš„é“¾æ¥ï¼Œä¸‰ä»½å­¦ä¹ ç¬”è®°éƒ½æœ‰





## è®¾è®¡æ¨¡å¼

[CS-Notes/è®¾è®¡æ¨¡å¼.md ](https://github.com/CyC2018/CS-Notes/blob/master/notes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.md "CS-Notes/è®¾è®¡æ¨¡å¼.md at master Â· CyC2018/CS-Notes") 23ç§è®¾è®¡æ¨¡å¼



### å•ä¾‹

åŒæ­¥é—®é¢˜ã€‚



[JavaGuide/static](https://github.com/Snailclimb/JavaGuide/blob/master/Java%E7%9B%B8%E5%85%B3/static.md "JavaGuide/static.md at master Â· Snailclimb/JavaGuide") ä½¿ç”¨é™æ€å†…éƒ¨ç±»å®ç°å•ä¾‹çš„è§£é‡Šã€‚



## ç®—æ³•



### æ’åº







## Java Web



### è¯·æ±‚è½¬å‘å’Œé‡å®šå‘

**è½¬å‘æ˜¯æœåŠ¡å™¨è¡Œä¸ºï¼Œé‡å®šå‘æ˜¯å®¢æˆ·ç«¯è¡Œä¸ºã€‚**



**é‡å®šå‘ï¼ˆRedirectï¼‰** æ˜¯åˆ©ç”¨æœåŠ¡å™¨è¿”å›çš„çŠ¶æ€å—æ¥å®ç°çš„ã€‚å¦‚æœæœåŠ¡å™¨è¿”å›301æˆ–è€…302ï¼Œåˆ™æµè§ˆå™¨ä¼šåˆ°æ–°çš„ç½‘å€é‡æ–°è¯·æ±‚è¯¥èµ„æºã€‚



### HTTPæ–¹æ³•





#### Getå’ŒPostæ–¹æ³•æ¯”è¾ƒ

**ä½œç”¨ï¼š**GET ç”¨äºè·å–èµ„æºï¼Œè€Œ POST ç”¨äºä¼ è¾“å®ä½“ä¸»ä½“ã€‚



**å‚æ•°ï¼š**

GET å’Œ POST çš„è¯·æ±‚éƒ½èƒ½ä½¿ç”¨é¢å¤–çš„å‚æ•°ï¼Œä½†æ˜¯ GET çš„å‚æ•°æ˜¯ä»¥æŸ¥è¯¢å­—ç¬¦ä¸²å‡ºç°åœ¨ URL ä¸­ï¼Œè€Œ POST çš„å‚æ•°å­˜å‚¨åœ¨å®ä½“ä¸»ä½“ä¸­ã€‚ä¸èƒ½å› ä¸º POST å‚æ•°å­˜å‚¨åœ¨å®ä½“ä¸»ä½“ä¸­å°±è®¤ä¸ºå®ƒçš„å®‰å…¨æ€§æ›´é«˜ï¼Œå› ä¸ºç…§æ ·å¯ä»¥é€šè¿‡ä¸€äº›æŠ“åŒ…å·¥å…·ï¼ˆFiddlerï¼‰æŸ¥çœ‹ã€‚

å› ä¸º URL åªæ”¯æŒ ASCII ç ï¼Œå› æ­¤ GET çš„å‚æ•°ä¸­å¦‚æœå­˜åœ¨ä¸­æ–‡ç­‰å­—ç¬¦å°±éœ€è¦å…ˆè¿›è¡Œç¼–ç ã€‚ä¾‹å¦‚ `ä¸­æ–‡` ä¼šè½¬æ¢ä¸º `%E4%B8%AD%E6%96%87`ï¼Œè€Œç©ºæ ¼ä¼šè½¬æ¢ä¸º `%20`ã€‚POST å‚è€ƒæ”¯æŒæ ‡å‡†å­—ç¬¦é›†ã€‚



**å¹‚ç­‰æ€§ï¼š**

å¹‚ç­‰çš„ HTTP æ–¹æ³•ï¼ŒåŒæ ·çš„è¯·æ±‚è¢«æ‰§è¡Œä¸€æ¬¡ä¸è¿ç»­æ‰§è¡Œå¤šæ¬¡çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼ŒæœåŠ¡å™¨çš„çŠ¶æ€ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œå¹‚ç­‰æ–¹æ³•ä¸åº”è¯¥å…·æœ‰å‰¯ä½œç”¨ï¼ˆç»Ÿè®¡ç”¨é€”é™¤å¤–ï¼‰ã€‚

æ‰€æœ‰çš„å®‰å…¨æ–¹æ³•ä¹Ÿéƒ½æ˜¯å¹‚ç­‰çš„ã€‚

åœ¨æ­£ç¡®å®ç°çš„æ¡ä»¶ä¸‹ï¼ŒGETï¼ŒHEADï¼ŒPUT å’Œ DELETE ç­‰æ–¹æ³•éƒ½æ˜¯å¹‚ç­‰çš„ï¼Œè€Œ POST æ–¹æ³•ä¸æ˜¯ã€‚



#### Restful







### HTTPçŠ¶æ€ç 



| çŠ¶æ€ç  | ç±»åˆ«                                 | åŸå› çŸ­è¯­                   |
| ------ | ------------------------------------ | -------------------------- |
| 1XX    | Informationalï¼ˆ**ä¿¡æ¯**æ€§çŠ¶æ€ç ï¼‰    | æ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç†         |
| 2XX    | Successï¼ˆ**æˆåŠŸ**çŠ¶æ€ç ï¼‰            | è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•           |
| 3XX    | Redirectionï¼ˆ**é‡å®šå‘**çŠ¶æ€ç ï¼‰      | éœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚ |
| 4XX    | Client Errorï¼ˆ**å®¢æˆ·ç«¯é”™è¯¯**çŠ¶æ€ç ï¼‰ | æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚         |
| 5XX    | Server Errorï¼ˆ**æœåŠ¡å™¨é”™è¯¯**çŠ¶æ€ç ï¼‰ | æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™         |



> [CS-Notes/HTTP.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/HTTP.md "CS-Notes/HTTP.md at master Â· CyC2018/CS-Notes")

### cookie å’Œ session







### è¯·æ±‚è½¬å‘å’Œé‡å®šå‘









servletå‡ å¤§å†…ç½®å¯¹è±¡ï¼š









### è¿‡æ»¤å™¨ï¼Œç›‘å¬å™¨ï¼Œæ‹¦æˆªå™¨



Servlet APIæä¾›äº†å¤§é‡Listener æ¥å¯¹Webå®¹å™¨å†…çš„äº‹ä»¶è¿›è¡Œç›‘å¬ï¼Œä»è€Œå½“å¯¹åº”çš„äº‹ä»¶å‘ç”Ÿæ—¶å›è°ƒäº‹ä»¶ç›‘å¬å™¨å†…çš„æ–¹æ³•ã€‚



[è¿‡æ»¤å™¨ï¼ˆFilterï¼‰ä¸æ‹¦æˆªå™¨ï¼ˆInterceptor )åŒºåˆ«](https://www.cnblogs.com/junzi2099/p/8022058.html)

Filterå¯ä»¥è®¤ä¸ºæ˜¯Servletçš„ä¸€ç§â€œåŠ å¼ºç‰ˆâ€ï¼Œå®ƒä¸»è¦ç”¨äºå¯¹ç”¨æˆ·è¯·æ±‚è¿›è¡Œé¢„å¤„ç†ï¼Œä¹Ÿå¯ä»¥å¯¹HttpServletResponseè¿›è¡Œåå¤„ç†ï¼Œæ˜¯ä¸ªå…¸å‹çš„å¤„ç†é“¾ã€‚

> Servletä¸­çš„è¿‡æ»¤å™¨Filteræ˜¯å®ç°äº†javax.servlet.Filteræ¥å£çš„æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œï¼ˆåœ¨springä¸­ï¼‰ä¸»è¦çš„ç”¨é€”æ˜¯è®¾ç½®å­—ç¬¦é›†ã€æ§åˆ¶æƒé™ã€æ§åˆ¶è½¬å‘ã€åšä¸€äº›ä¸šåŠ¡é€»è¾‘åˆ¤æ–­ç­‰ã€‚å…¶å·¥ä½œåŸç†æ˜¯ï¼Œåªè¦ä½ åœ¨web.xmlæ–‡ä»¶é…ç½®å¥½è¦æ‹¦æˆªçš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå®ƒéƒ½ä¼šå¸®ä½ æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ­¤æ—¶ä½ å°±å¯ä»¥å¯¹è¯·æ±‚æˆ–å“åº”(Requestã€Response)ç»Ÿä¸€è®¾ç½®ç¼–ç ï¼Œç®€åŒ–æ“ä½œ

æ‹¦æˆªå™¨æ˜¯åœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹ä¸­åº”ç”¨çš„ï¼Œå°±æ˜¯åœ¨ä½ çš„serviceæˆ–è€…ä¸€ä¸ªæ–¹æ³•å‰è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œæˆ–è€…åœ¨æ–¹æ³•åè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ã€‚æ˜¯åŸºäºJAVAçš„åå°„æœºåˆ¶ã€‚æ‹¦æˆªå™¨ä¸æ˜¯åœ¨web.xmlï¼Œæ¯”å¦‚strutsåœ¨struts.xmlä¸­é…ç½®ã€‚

æ‹¦æˆªå™¨ï¼Œåœ¨AOP(Aspect-Oriented Programming)ä¸­ç”¨äºåœ¨æŸä¸ªæ–¹æ³•æˆ–å­—æ®µè¢«è®¿é—®ä¹‹å‰ï¼Œè¿›è¡Œæ‹¦æˆªï¼Œç„¶ååœ¨ä¹‹å‰æˆ–ä¹‹ååŠ å…¥æŸäº›æ“ä½œã€‚æ‹¦æˆªæ˜¯AOPçš„ä¸€ç§å®ç°ç­–ç•¥ã€‚



æ‰§è¡Œé¡ºåºï¼š

```
è¿‡æ»¤å‰-æ‹¦æˆªå‰-Actionå¤„ç†-æ‹¦æˆªå-è¿‡æ»¤å
```



**æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰ä½¿ç”¨**

interceptor çš„æ‰§è¡Œé¡ºåºå¤§è‡´ä¸ºï¼š

1. è¯·æ±‚åˆ°è¾¾ DispatcherServlet
2. DispatcherServlet å‘é€è‡³ Interceptor ï¼Œæ‰§è¡Œ preHandle
3. è¯·æ±‚è¾¾åˆ° Controller
4. è¯·æ±‚ç»“æŸåï¼ŒpostHandle æ‰§è¡Œ

Spring ä¸­ä¸»è¦é€šè¿‡ HandlerInterceptor æ¥å£æ¥å®ç°è¯·æ±‚çš„æ‹¦æˆªï¼Œå®ç° HandlerInterceptor æ¥å£éœ€è¦å®ç°ä¸‹é¢ä¸‰ä¸ªæ–¹æ³•ï¼š

- preHandle() â€“ åœ¨handleræ‰§è¡Œä¹‹å‰ï¼Œè¿”å› boolean å€¼ï¼Œtrue è¡¨ç¤ºç»§ç»­æ‰§è¡Œï¼Œfalse ä¸ºåœæ­¢æ‰§è¡Œå¹¶è¿”å›ã€‚
- postHandle() â€“ åœ¨handleræ‰§è¡Œä¹‹å, å¯ä»¥åœ¨è¿”å›ä¹‹å‰å¯¹è¿”å›çš„ç»“æœè¿›è¡Œä¿®æ”¹
- afterCompletion() â€“ åœ¨è¯·æ±‚å®Œå…¨ç»“æŸåè°ƒç”¨ï¼Œå¯ä»¥ç”¨æ¥ç»Ÿè®¡è¯·æ±‚è€—æ—¶ç­‰ç­‰





### è‡ªåŠ¨åˆ·æ–°

è‡ªåŠ¨åˆ·æ–°ä¸ä»…å¯ä»¥å®ç°ä¸€æ®µæ—¶é—´ä¹‹åè‡ªåŠ¨è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œè¿˜å¯ä»¥å®ç°ä¸€æ®µæ—¶é—´ä¹‹åè‡ªåŠ¨åˆ·æ–°æœ¬é¡µé¢ã€‚Servletä¸­é€šè¿‡HttpServletResponseå¯¹è±¡è®¾ç½®Headerå±æ€§å®ç°è‡ªåŠ¨åˆ·æ–°

```java
Response.setHeader("Refresh","1000;URL=http://localhost:8080/servlet/example.htm");
```





### Servletç”Ÿå‘½å‘¨æœŸ





### JSPå’ŒServletä¹‹é—´çš„å…³ç³»









## æ•°æ®åº“ç›¸å…³

[ä¸ºä»€ä¹ˆå¼€å‘äººå‘˜å¿…é¡»è¦äº†è§£æ•°æ®åº“é”ï¼Ÿ](https://mp.weixin.qq.com/s?__biz=MjM5ODI5Njc2MA==&mid=2655819140&idx=1&sn=b4c4e3f3681e5915b537f9485b27f733&chksm=bd74d8538a03514570c5d3ebcf02c2f084c227c0d9bfbf5534518615fd9752f63621c9d887a0&mpshare=1&scene=24&srcid=1028j4zeXeLyoCVs9d1pRn4m#rd "51CTOæŠ€æœ¯æ ˆ")



æ•°æ®ç±»å‹ï¼š

- æ•´æ•°
- æµ®ç‚¹æ•°
- å­—ç¬¦ä¸²
- æ—¶é—´å’Œæ—¥æœŸ



### SQLè¯­å¥



- distinct
- limit
- like ä¸ é€šé…ç¬¦
- æ’åº
- è®¡ç®—å­—æ®µ
- group by åˆ†ç»„
- å­æŸ¥è¯¢
- è¿æ¥
- ç»„åˆæŸ¥è¯¢
- è§†å›¾ï¼š
- å­˜å‚¨è¿‡ç¨‹ï¼šå¥½å¤„ï¼›æ‰‹å†™
- æ¸¸æ ‡ï¼š**åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­**ä½¿ç”¨æ¸¸æ ‡å¯ä»¥å¯¹ä¸€ä¸ªç»“æœé›†è¿›è¡Œç§»åŠ¨éå†ã€‚
- è§¦å‘å™¨ï¼šè§¦å‘å™¨ä¼šåœ¨æŸä¸ªè¡¨æ‰§è¡Œä»¥ä¸‹è¯­å¥æ—¶è€Œè‡ªåŠ¨æ‰§è¡Œï¼šDELETEã€INSERTã€UPDATEã€‚



å­˜å‚¨è¿‡ç¨‹å¯ä»¥çœ‹æˆæ˜¯å¯¹ä¸€ç³»åˆ— SQL æ“ä½œçš„æ‰¹å¤„ç†ã€‚

ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹çš„å¥½å¤„ï¼š

- ä»£ç å°è£…ï¼Œä¿è¯äº†ä¸€å®šçš„å®‰å…¨æ€§ï¼›
- ä»£ç å¤ç”¨ï¼›
- ç”±äºæ˜¯é¢„å…ˆç¼–è¯‘ï¼Œå› æ­¤å…·æœ‰å¾ˆé«˜çš„æ€§èƒ½ã€‚



> [CS-Notes/SQL.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/SQL.md "CS-Notes/SQL.md at master Â· CyC2018/CS-Notes")



### SQLæ‰§è¡Œé¡ºåº

```
from...on...join...where...group by...with... having....
select...distinct...order by...limit 
```



### ä¸‰èŒƒå¼

- ç¬¬ä¸€èŒƒå¼ï¼š**åˆ—ï¼ˆå±æ€§ï¼‰ä¸å¯å†åˆ†**ï¼Œç¡®ä¿æ²¡åˆ—ä¿æŒåŸå­æ€§
- ç¬¬äºŒèŒƒå¼ï¼š**ç¡®ä¿æ•°æ®åº“è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å’Œä¸»é”®ç›¸å…³**ï¼Œè€Œä¸èƒ½åªä¸ä¸»é”®çš„æŸä¸€éƒ¨åˆ†ç›¸å…³ï¼ˆä¸»è¦é’ˆå¯¹è”åˆä¸»é”®è€Œè¨€ï¼‰
- ç¬¬ä¸‰èŒƒå¼ï¼š**ç¡®ä¿æ•°æ®è¡¨ä¸­çš„æ¯ä¸€åˆ—æ•°æ®éƒ½å’Œä¸»é”®ç›´æ¥ç›¸å…³ï¼Œè€Œä¸èƒ½é—´æ¥ç›¸å…³**



> [æ•°æ®åº“è®¾è®¡ä¸‰å¤§èŒƒå¼ - Ruthless - åšå®¢å›­](http://www.cnblogs.com/linjiqin/archive/2012/04/01/2428695.html "æ•°æ®åº“è®¾è®¡ä¸‰å¤§èŒƒå¼ - Ruthless - åšå®¢å›­")



### äº‹åŠ¡çš„ç‰¹æ€§

ä»€ä¹ˆæ˜¯äº‹åŠ¡ï¼ŸACIDä¹‹é—´çš„å…³ç³»ï¼Ÿå¹¶å‘ä¸€è‡´æ€§é—®é¢˜ï¼Œå¯¼è‡´çš„è„è¯»ã€å¹»è¯»...ï¼Ÿè¯¦è§ï¼š [CS-Notes/æ•°æ®åº“ç³»ç»ŸåŸç†](https://github.com/CyC2018/CS-Notes/blob/master/notes/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86.md "CS-Notes/æ•°æ®åº“ç³»ç»ŸåŸç†.md at master Â· CyC2018/CS-Notes")  

**äº‹åŠ¡**æŒ‡çš„æ˜¯æ»¡è¶³ ACID ç‰¹æ€§çš„**ä¸€ç»„æ“ä½œ**ï¼Œå¯ä»¥é€šè¿‡ Commit æäº¤ä¸€ä¸ªäº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Rollback è¿›è¡Œå›æ»šã€‚



**ACIDï¼š**å…·ä½“è§£é‡Šè§é“¾æ¥ã€‚

- åŸå­æ€§
- ä¸€è‡´æ€§
- éš”ç¦»æ€§
- æŒä¹…æ€§



![](https://github.com/CyC2018/CS-Notes/raw/master/pics/6675d713-8b59-4067-ad16-fdd538d4bb43.png)

ç”±ä¸Šå›¾å¯çŸ¥ï¼Œ*ä¸€è‡´æ€§éœ€è¦é€šè¿‡åŸå­æ€§å’Œéš”ç¦»æ€§æ¥ä¿è¯*ã€‚ä½†åœ¨**å¹¶å‘**æƒ…å†µä¸‹ï¼Œ**éš”ç¦»æ€§**å¾ˆéš¾ä¿è¯ï¼Œæ‰€ä»¥ä¼šå‡ºç°å¹¶å‘**ä¸€è‡´æ€§**é—®é¢˜ã€‚



å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ï¼Œå¯¼è‡´çš„è„è¯»ã€å¹»è¯»...ï¼Ÿ**è¯¦è§**  [CS-Notes/æ•°æ®åº“ç³»ç»ŸåŸç†](https://github.com/CyC2018/CS-Notes/blob/master/notes/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E5%8E%9F%E7%90%86.md "CS-Notes/æ•°æ®åº“ç³»ç»ŸåŸç†.md at master Â· CyC2018/CS-Notes")  

**å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ï¼š**

- ä¸¢å¤±ä¿®æ”¹(æ›´æ–°)
- è„è¯»
- ä¸å¯é‡å¤è¯»
- å¹»è¯»



äº§ç”Ÿå¹¶å‘ä¸ä¸€è‡´æ€§é—®é¢˜**ä¸»è¦åŸå› æ˜¯ç ´åäº†äº‹åŠ¡çš„éš”ç¦»æ€§**ï¼Œè§£å†³æ–¹æ³•æ˜¯é€šè¿‡å¹¶å‘æ§åˆ¶æ¥ä¿è¯éš”ç¦»æ€§ã€‚å¹¶å‘æ§åˆ¶å¯ä»¥é€šè¿‡å°é”æ¥å®ç°ï¼Œä½†æ˜¯å°é”æ“ä½œéœ€è¦ç”¨æˆ·è‡ªå·±æ§åˆ¶ï¼Œç›¸å½“å¤æ‚ã€‚**æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæä¾›äº†äº‹åŠ¡çš„éš”ç¦»çº§åˆ«**ï¼Œè®©ç”¨æˆ·ä»¥ä¸€ç§æ›´è½»æ¾çš„æ–¹å¼å¤„ç†å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ã€‚



**ï¼ˆæ•°æ®åº“æä¾›çš„ï¼‰äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼š**

MySQLæ•°æ®åº“ä¸ºæˆ‘ä»¬æä¾›çš„å››ç§éš”ç¦»çº§åˆ«



| éš”ç¦»çº§åˆ«                           | æè¿°                                                         | è¯»æ•°æ®ä¸€è‡´æ€§                             | èµƒè¯» | ä¸å¯é‡å¤è¯» | å¹»è¯» |
| ---------------------------------- | ------------------------------------------------------------ | ---------------------------------------- | ---- | ---------- | ---- |
| Read Uncommittedï¼ˆè¯»å–æœªæäº¤å†…å®¹ï¼‰ | æ‰€æœ‰äº‹åŠ¡éƒ½å¯ä»¥çœ‹åˆ°å…¶ä»–æœªæäº¤äº‹åŠ¡çš„æ‰§è¡Œç»“æœ                   | æœ€ä½çº§åˆ«ï¼Œåªèƒ½ä¿è¯ä¸è¯»å–ç‰©ç†ä¸ŠæŸåçš„æ•°æ® | âˆš    | âˆš          | âˆš    |
| Read Committedï¼ˆè¯»å–å·²æäº¤å†…å®¹ï¼‰   | ä¸€ä¸ªäº‹åŠ¡åªèƒ½çœ‹è§å·²ç»æäº¤äº‹åŠ¡æ‰€åšçš„æ”¹å˜ï¼ˆå…¶å®ƒæ•°æ®åº“é»˜è®¤ï¼‰     | è¯­å¥çº§                                   | Ã—    | âˆš          | âˆš    |
| Repeatable Readï¼ˆå¯é‡å¤è¯»ï¼‰        | å®ƒç¡®ä¿åŒä¸€äº‹åŠ¡çš„å¤šä¸ªå®ä¾‹åœ¨å¹¶å‘è¯»å–æ•°æ®æ—¶ï¼Œä¼šçœ‹åˆ°åŒæ ·çš„æ•°æ®è¡Œï¼ˆmysqlé»˜è®¤ï¼‰ | äº‹åŠ¡çº§                                   | Ã—    | Ã—          | âˆš    |
| Serializableï¼ˆå¯ä¸²è¡ŒåŒ–ï¼‰           | å®ƒé€šè¿‡å¼ºåˆ¶äº‹åŠ¡æ’åºï¼Œä½¿ä¹‹ä¸å¯èƒ½ç›¸äº’å†²çªï¼Œä»è€Œè§£å†³å¹»è¯»é—®é¢˜     | æœ€é«˜çº§åˆ«ï¼Œäº‹åŠ¡çº§                         | Ã—    | Ã—          | Ã—    |



éš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œè¶Šèƒ½ä¿è¯æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼Œä½†æ˜¯å¯¹å¹¶å‘æ€§èƒ½çš„å½±å“ä¹Ÿè¶Šå¤§ã€‚å¯¹äºå¤šæ•°åº”ç”¨ç¨‹åºï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘æŠŠæ•°æ®åº“ç³»ç»Ÿçš„éš”ç¦»çº§åˆ«è®¾ä¸º**Read Committed**ã€‚å®ƒèƒ½å¤Ÿé¿å…è„è¯»å–ï¼Œè€Œä¸”å…·æœ‰è¾ƒå¥½çš„å¹¶å‘æ€§èƒ½ã€‚å°½ç®¡å®ƒä¼šå¯¼è‡´ä¸å¯é‡å¤è¯»ã€å¹»è¯»å’Œç¬¬äºŒç±»ä¸¢å¤±æ›´æ–°è¿™äº›å¹¶å‘é—®é¢˜ï¼Œåœ¨å¯èƒ½å‡ºç°è¿™ç±»é—®é¢˜çš„ä¸ªåˆ«åœºåˆï¼Œ**å¯ä»¥ç”±åº”ç”¨ç¨‹åºé‡‡ç”¨æ‚²è§‚é”æˆ–ä¹è§‚é”æ¥æ§åˆ¶**ã€‚



### å°é”

å°é”ç²’åº¦ï¼ˆmysqlï¼‰ï¼š

- è¡Œçº§é”
- è¡¨çº§é”



å°é”ç±»å‹ï¼š

- è¯»å†™é”
  - æ’å®ƒé”ï¼ˆå†™é”ï¼‰
  - å…±äº«é”ï¼ˆè¯»é”ï¼‰
- æ„å‘é”



ç»“åˆå°é”ç²’åº¦å’Œå°é”ç±»å‹ã€‚





#### ä¹è§‚é”å’Œæ‚²è§‚é”

**ä¹è§‚é”(Optimistic Lock)**ï¼Œæ˜¯æŒ‡æ“ä½œæ•°æ®åº“æ—¶(æ›´æ–°æ“ä½œ)ï¼Œæ€»æ˜¯è®¤ä¸ºè¿™æ¬¡çš„æ“ä½œ**ä¸ä¼š**å¯¼è‡´å†²çªï¼Œä¸åˆ°ä¸‡ä¸å¾—å·²ä¸å»æ‹¿é”ï¼Œåœ¨æ›´æ–°æ—¶é‡‡å–åˆ¤æ–­æ˜¯å¦å†²çªï¼Œ*é€‚ç”¨äºè¯»æ“ä½œè¿œå¤šäºæ›´æ–°æ“ä½œçš„æƒ…å†µ*ã€‚
***ä¹è§‚é”å¹¶æ²¡æœ‰è¢«æ•°æ®åº“å®ç°ï¼Œéœ€è¦è‡ªè¡Œå®ç°***ï¼Œé€šå¸¸çš„å®ç°æ–¹å¼ä¸ºåœ¨è¡¨ä¸­å¢åŠ ç‰ˆæœ¬versionå­—æ®µï¼Œæ›´æ–°æ—¶åˆ¤æ–­åº“ä¸­versionä¸å–å‡ºæ—¶çš„versionå€¼æ˜¯å¦ç›¸ç­‰ï¼Œè‹¥ç›¸ç­‰åˆ™æ‰§è¡Œæ›´æ–°å¹¶å°†versionåŠ 1ï¼Œè‹¥ä¸ç›¸ç­‰åˆ™è¯´æ˜æ•°æ®è¢«å…¶ä»–çº¿ç¨‹(è¿›ç¨‹)ä¿®æ”¹ï¼Œæ”¾å¼ƒä¿®æ”¹ã€‚

```sql
select (age, version) from user where id = #{id};
# å…¶ä»–æ“ä½œ
update user set age = 18, version = version + 1 where id = #{id} and version = #{version}
```

**æ‚²è§‚é”(Pessimistic Lockï¼‰**ï¼Œæ˜¯æŒ‡æ“ä½œæ•°æ®åº“æ—¶(æ›´æ–°æ“ä½œ)ï¼Œæ€»æ˜¯è®¤ä¸ºè¿™æ¬¡çš„æ“ä½œ**ä¼š**å¯¼è‡´å†²çªï¼Œæ¯æ¬¡éƒ½è¦é€šè¿‡è·å–é”æ‰èƒ½è¿›è¡Œæ•°æ®æ“ä½œï¼Œå› æ­¤è¦å…ˆç¡®ä¿è·å–é”æˆåŠŸå†è¿›è¡Œä¸šåŠ¡æ“ä½œã€‚
æ‚²è§‚é”éœ€è¦æ•°æ®åº“è‡ªèº«æä¾›æ”¯æŒï¼ŒMySqlæä¾›äº†**å…±äº«é”**å’Œ**æ’ä»–é”**æ¥å®ç°å¯¹æ•°æ®è¡Œçš„é”å®šï¼Œä¸¤ç§é”çš„ä»‹ç»å¦‚ä¸‹ä»‹ç»ã€‚

> å®ç°æ–¹å¼ï¼šé€šè¿‡æ•°æ®åº“é”æœºåˆ¶å®ç°ï¼Œå³å¯¹æŸ¥è¯¢è¯­å¥æ·»åŠ `for update`å…³é”®å­—ã€‚



**InnoDBå¼•æ“** å®ç°äº†ä»¥ä¸‹ä¸¤ç§ç±»å‹çš„è¡Œé”ï¼š

- å…±äº«é”ï¼ˆSï¼‰
- æ’å®ƒé”ï¼ˆXï¼‰

å¯¹äº`UPDATE`ã€`DELETE`å’Œ`INSERT`è¯­å¥ï¼ŒInnoDB ä¼š**è‡ªåŠ¨**ç»™æ¶‰åŠæ•°æ®é›†åŠ æ’ä»–é”ï¼ˆXï¼‰

å¯¹äºæ™®é€š`SELECT`è¯­å¥ï¼ŒInnoDBä¸ä¼šåŠ ä»»ä½•é”

äº‹åŠ¡å¯ä»¥é€šè¿‡ä»¥ä¸‹è¯­å¥**æ˜¾å¼åœ°**ç»™è®°å½•é›†åŠ å…±äº«é”æˆ–æ’ä»–é”ï¼š

- å…±äº«é”: `SELECT * FROM table_name WHERE ... LOCK IN SHARE MODE`ï¼Œç­‰åŒè¯»é”
- æ’ä»–é”: `SELECT * FROM table_name WHERE ... FOR UPDATE`ï¼Œç­‰åŒå†™é”



> æ‚²è§‚é”å’Œä¹è§‚é”ï¼šåä¸º"é”"ï¼Œå…¶å®ä¸æ˜¯é”ï¼Œè€Œæ˜¯åŠ é”çš„è§£å†³æ–¹æ¡ˆã€‚
>
> æ‚²è§‚é”ï¼šåœ¨`select`çš„æ—¶å€™åŠ ä¸Šæ’å®ƒé”ï¼Œå³åœ¨`select`çš„æ—¶å€™æ—¢ä¸èƒ½è¯»åˆä¸èƒ½å†™
>
> ä¹è§‚é”ï¼šé€šè¿‡ç‰ˆæœ¬å·å­—æ®µ `@javax.persist.Version`
>



[é‡æ–°ç†è§£mysqlçš„é”ã€äº‹åŠ¡éš”ç¦»çº§åˆ«åŠäº‹åŠ¡ä¼ æ’­è¡Œä¸º - ç¨‹åºå›­](http://www.voidcn.com/article/p-yttjumru-bsg.html "é‡æ–°ç†è§£mysqlçš„é”ã€äº‹åŠ¡éš”ç¦»çº§åˆ«åŠäº‹åŠ¡ä¼ æ’­è¡Œä¸º - ç¨‹åºå›­") â­

[æµ…è°ˆæ•°æ®åº“ä¹è§‚é”å’Œæ‚²è§‚é” - ç®€ä¹¦](https://www.jianshu.com/p/39d8b7437b0b "æµ…è°ˆæ•°æ®åº“ä¹è§‚é”å’Œæ‚²è§‚é” - ç®€ä¹¦")

[äº‹åŠ¡éš”ç¦»çº§åˆ«_ç™¾åº¦ç™¾ç§‘](https://baike.baidu.com/item/%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB "äº‹åŠ¡éš”ç¦»çº§åˆ«_ç™¾åº¦ç™¾ç§‘")

> è¯¦è§å„é“¾æ¥ï¼Œæ›´æ·±å…¥çš„è§£é‡Šè¿™é‡Œæ²¡æœ‰æ‘˜æŠ„ã€‚



æ•°æ®åº“ä¸­æ·»åŠ äº‹åŠ¡åæ•°æ®çš„å˜æ›´æ–¹å¼ï¼š

![](https://raw.githubusercontent.com/fandean/images/master/PicGo/04.%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%8E%9F%E7%90%86.png)



**äº‹åŠ¡ä¸é”ï¼š**

**äº‹åŠ¡**æŒ‡çš„æ˜¯æ»¡è¶³ ACID ç‰¹æ€§çš„**ä¸€ç»„æ“ä½œ**ï¼›æ‰€ä»¥äº‹åŠ¡å¹¶ä¸ä»…ä»…å‡ºç°åœ¨æ•°æ®åº“æ“ä½œä¸­ï¼Œæ¯”å¦‚åˆ†å¸ƒå¼äº‹åŠ¡ã€‚



```
äº‹åŠ¡çš„éš”ç¦»æ€§é­åˆ°ç ´å â€”â€”â€”â€”  å¹¶å‘
å¤šçº¿ç¨‹åŒæ­¥æœºåˆ¶ â€”â€”â€”â€” é”æœºåˆ¶
```





### æ•°æ®åº“å¼•æ“



mysqlæ•°æ®åº“å¼•æ“ï¼šè¿™é‡Œåªä»‹ç» InnoDBå’ŒMyISAMå¼•æ“



ä¸¤è€…çš„æ¯”è¾ƒï¼š

- äº‹åŠ¡ï¼šInnoDB æ˜¯äº‹åŠ¡å‹çš„ï¼Œå¯ä»¥ä½¿ç”¨ Commit å’Œ Rollback è¯­å¥ã€‚
- å¹¶å‘ï¼šMyISAM åªæ”¯æŒè¡¨çº§é”ï¼Œè€Œ InnoDB è¿˜æ”¯æŒè¡Œçº§é”ã€‚
- å¤–é”®ï¼šInnoDB æ”¯æŒå¤–é”®ã€‚
- å¤‡ä»½ï¼šInnoDB æ”¯æŒåœ¨çº¿çƒ­å¤‡ä»½ã€‚
- å´©æºƒæ¢å¤ï¼šMyISAM å´©æºƒåå‘ç”ŸæŸåçš„æ¦‚ç‡æ¯” InnoDB é«˜å¾ˆå¤šï¼Œè€Œä¸”æ¢å¤çš„é€Ÿåº¦ä¹Ÿæ›´æ…¢ã€‚
- å…¶å®ƒç‰¹æ€§ï¼šMyISAM æ”¯æŒå‹ç¼©è¡¨å’Œç©ºé—´æ•°æ®ç´¢å¼•ã€‚



å¦å¤–InnoDBï¼š

ä¸»ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ï¼Œåœ¨ç´¢å¼•ä¸­ä¿å­˜äº†æ•°æ®ï¼Œä»è€Œé¿å…ç›´æ¥è¯»å–ç£ç›˜ï¼Œå› æ­¤å¯¹æŸ¥è¯¢æ€§èƒ½æœ‰å¾ˆå¤§çš„æå‡ã€‚

å†…éƒ¨åšäº†å¾ˆå¤šä¼˜åŒ–ï¼ŒåŒ…æ‹¬ä»ç£ç›˜è¯»å–æ•°æ®æ—¶é‡‡ç”¨çš„å¯é¢„æµ‹æ€§è¯»ã€èƒ½å¤ŸåŠ å¿«è¯»æ“ä½œå¹¶ä¸”è‡ªåŠ¨åˆ›å»ºçš„è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ã€èƒ½å¤ŸåŠ é€Ÿæ’å…¥æ“ä½œçš„æ’å…¥ç¼“å†²åŒºç­‰



[CS-Notes/MySQL.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/MySQL.md "CS-Notes/MySQL.md at master Â· CyC2018/CS-Notes")



### SQLä¼˜åŒ–

[20+æ¡MySQLæ€§èƒ½ä¼˜åŒ–çš„æœ€ä½³ç»éªŒ ](http://www.jfox.info/2017/20-tiao-mysql-xing-nen-you-hua-de-zui-jia-jing-yan.html "20+æ¡MySQLæ€§èƒ½ä¼˜åŒ–çš„æœ€ä½³ç»éªŒ | javaé¢è¯•") â­

[JCSprout/SQLä¼˜åŒ–](https://github.com/crossoverJie/JCSprout/blob/master/MD/SQL-optimization.md "JCSprout/SQL-optimization.md at master Â· crossoverJie/JCSprout")

[SQLè°ƒä¼˜ - èŒå°Q - åšå®¢å›­](https://www.cnblogs.com/Qian123/p/5666569.html "SQLè°ƒä¼˜ - èŒå°Q - åšå®¢å›­") 

[sqlä¼˜åŒ–çš„å‡ ç§æ–¹æ³• - æƒ³å¿µçš„ä¸“æ  - CSDNåšå®¢](https://blog.csdn.net/jie_liang/article/details/77340905 "sqlä¼˜åŒ–çš„å‡ ç§æ–¹æ³• - æƒ³å¿µçš„ä¸“æ  - CSDNåšå®¢") 

[CS-Notes/MySQL.md](https://github.com/CyC2018/CS-Notes/blob/master/notes/MySQL.md "CS-Notes/MySQL.md at master Â· CyC2018/CS-Notes") 



åšé¢˜

sqlçº§è”åˆ é™¤



- EXPLAIN ä½ çš„ SELECT æŸ¥è¯¢

- å½“åªè¦ä¸€è¡Œæ•°æ®æ—¶ä½¿ç”¨ `LIMIT 1`ï¼šåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŠ ä¸Š `LIMIT 1` å¯ä»¥å¢åŠ æ€§èƒ½ã€‚è¿™æ ·ä¸€æ ·ï¼ŒMySQLæ•°æ®åº“å¼•æ“ä¼šåœ¨æ‰¾åˆ°ä¸€æ¡æ•°æ®ååœæ­¢æœç´¢ï¼Œè€Œä¸æ˜¯ç»§ç»­å¾€åæŸ¥å°‘ä¸‹ä¸€æ¡ç¬¦åˆè®°å½•çš„æ•°æ®ã€‚

- ä¸ºæœç´¢å­—æ®µå»ºç´¢å¼•

- åœ¨Joinè¡¨çš„æ—¶å€™ä½¿ç”¨ç›¸å½“ç±»å‹çš„åˆ—ï¼Œå¹¶å°†å…¶ç´¢å¼•ï¼šå¦‚æœä½ çš„åº”ç”¨ç¨‹åºæœ‰å¾ˆå¤š JOIN æŸ¥è¯¢ï¼Œä½ åº”è¯¥ç¡®è®¤ä¸¤ä¸ªè¡¨ä¸­Joinçš„å­—æ®µæ˜¯è¢«å»ºè¿‡ç´¢å¼•çš„ã€‚è¿™æ ·ï¼ŒMySQLå†…éƒ¨ä¼šå¯åŠ¨ä¸ºä½ ä¼˜åŒ–Joinçš„SQLè¯­å¥çš„æœºåˆ¶ã€‚è€Œä¸”ï¼Œè¿™äº›è¢«ç”¨æ¥Joinçš„å­—æ®µï¼Œåº”è¯¥æ˜¯ç›¸åŒçš„ç±»å‹çš„ã€‚ä¾‹å¦‚ï¼šå¦‚æœä½ è¦æŠŠ DECIMAL å­—æ®µå’Œä¸€ä¸ª INT å­—æ®µJoinåœ¨ä¸€èµ·ï¼ŒMySQLå°±æ— æ³•ä½¿ç”¨å®ƒä»¬çš„ç´¢å¼•

- é¿å… `SELECT *`

- æ°¸è¿œä¸ºæ¯å¼ è¡¨è®¾ç½®ä¸€ä¸ªID

- æ‹†åˆ†å¤§çš„ DELETE æˆ– INSERT è¯­å¥ï¼šå¦‚æœä½ éœ€è¦åœ¨ä¸€ä¸ªåœ¨çº¿çš„ç½‘ç«™ä¸Šå»æ‰§è¡Œä¸€ä¸ªå¤§çš„ DELETE æˆ– INSERT æŸ¥è¯¢ï¼Œä½ éœ€è¦éå¸¸å°å¿ƒï¼Œè¦é¿å…ä½ çš„æ“ä½œè®©ä½ çš„æ•´ä¸ªç½‘ç«™åœæ­¢ç›¸åº”ã€‚å› ä¸ºè¿™ä¸¤ä¸ªæ“ä½œæ˜¯ä¼šé”è¡¨çš„ï¼Œè¡¨ä¸€é”ä½äº†ï¼Œåˆ«çš„æ“ä½œéƒ½è¿›ä¸æ¥äº†ã€‚






#### **æ…¢æŸ¥è¯¢**

åˆ†æMySQLè¯­å¥**æŸ¥è¯¢æ€§èƒ½**çš„æ–¹æ³•é™¤äº†ä½¿ç”¨ **EXPLAIN** è¾“å‡º**æ‰§è¡Œè®¡åˆ’**ï¼Œè¿˜å¯ä»¥è®©MySQL**è®°å½•**ä¸‹æŸ¥è¯¢è¶…è¿‡æŒ‡å®šæ—¶é—´çš„è¯­å¥ï¼Œæˆ‘ä»¬å°†è¶…è¿‡æŒ‡å®šæ—¶é—´çš„SQLè¯­å¥æŸ¥è¯¢ç§°ä¸ºâ€œ**æ…¢æŸ¥è¯¢**â€ã€‚

æ…¢æŸ¥è¯¢ä¸»è¦ä½“ç°åœ¨æ…¢ä¸Šï¼Œé€šå¸¸æ„ä¹‰ä¸Šæ¥è®²ï¼Œåªè¦è¿”å›æ—¶é—´å¤§äº >1 secä¸Šçš„æŸ¥è¯¢éƒ½å¯ä»¥ç§°ä¸ºæ…¢æŸ¥è¯¢ã€‚æ…¢æŸ¥è¯¢ä¼šå¯¼è‡´CPUï¼Œå†…å­˜æ¶ˆè€—è¿‡é«˜ã€‚æ•°æ®åº“æœåŠ¡å™¨å‹åŠ›é™¡ç„¶è¿‡å¤§ï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†æƒ…å†µæ¥è®²ï¼Œè‚¯å®šæ˜¯ç”±æŸäº›æ…¢æŸ¥è¯¢å¯¼è‡´çš„ã€‚



#### **æ‰§è¡Œè®¡åˆ’**

explain æ˜¾ç¤ºäº†mysql **å¦‚ä½•ä½¿ç”¨ç´¢å¼•**æ¥å¤„ç†selectè¯­å¥ä»¥åŠè¿æ¥è¡¨ã€‚å¯ä»¥**å¸®åŠ©é€‰æ‹©æ›´å¥½çš„ç´¢å¼•**å’Œå†™å‡ºæ›´ä¼˜åŒ–çš„æŸ¥è¯¢è¯­å¥ã€‚

ä½¿ç”¨æ–¹æ³•ï¼Œåœ¨select è¯­å¥å‰åŠ ä¸Šexplainå°±å¯ä»¥äº† 



å‡ ä¸ªæ‰§è¡Œè®¡åˆ’ï¼ŒåŠå…¶è¾“å‡ºï¼ˆè¯¦è§SegmentFaultçš„é“¾æ¥ï¼‰ï¼š

`explain select * from user_info where id = 2;`

| id   | select_type | table     | type  | possible_keys | key     | key_len | ref   | rows | Extra |
| ---- | ----------- | --------- | ----- | ------------- | ------- | ------- | ----- | ---- | ----- |
| 1    | SIMPLE      | user_info | const | PRIMARY       | PRIMARY | 8       | const | 1    |       |



`EXPLAIN SELECT name FROM  user_info;`

| id   | select_type | table     | type  | possible_keys | key        | key_len | ref  | rows | Extra       |
| ---- | ----------- | --------- | ----- | ------------- | ---------- | ------- | ---- | ---- | ----------- |
| 1    | SIMPLE      | user_info | index |               | name_index | 152     |      | 10   | Using index |



`EXPLAIN SELECT age FROM  user_info WHERE age = 20;`

| id   | select_type | table     | type | possible_keys | key  | key_len | ref  | rows | Extra       |
| ---- | ----------- | --------- | ---- | ------------- | ---- | ------- | ---- | ---- | ----------- |
| 1    | SIMPLE      | user_info | ALL  |               |      |         |      | 10   | Using where |



è¿™é‡Œä¸»è¦ç®€å•çš„å…³æ³¨ä¸€ä¸‹ `type` å’Œ `row` å­—æ®µå¯¹åº”çš„å±æ€§å€¼ï¼š

**typeå­—æ®µï¼š**

æ ¹æ®æ­¤å­—æ®µåˆ¤æ–­æ­¤æ¬¡æŸ¥è¯¢æ˜¯**å…¨è¡¨æ‰«æ**è¿˜æ˜¯**ç´¢å¼•æ‰«æ**ã€‚

ä¸åŒçš„ type ç±»å‹çš„æ€§èƒ½å…³ç³»å¦‚ä¸‹:
`ALL < index < range ~ index_merge < ref < eq_ref < const < system`

`ALL` ç±»å‹å› ä¸ºæ˜¯å…¨è¡¨æ‰«æ, å› æ­¤åœ¨ç›¸åŒçš„æŸ¥è¯¢æ¡ä»¶ä¸‹, å®ƒæ˜¯é€Ÿåº¦æœ€æ…¢çš„.
è€Œ `index` ç±»å‹çš„æŸ¥è¯¢è™½ç„¶ä¸æ˜¯å…¨è¡¨æ‰«æ, ä½†æ˜¯å®ƒæ‰«æäº†æ‰€æœ‰çš„ç´¢å¼•, å› æ­¤æ¯” ALL ç±»å‹çš„ç¨å¿«.
åé¢çš„å‡ ç§ç±»å‹éƒ½æ˜¯åˆ©ç”¨äº†ç´¢å¼•æ¥æŸ¥è¯¢æ•°æ®, å› æ­¤å¯ä»¥è¿‡æ»¤éƒ¨åˆ†æˆ–å¤§éƒ¨åˆ†æ•°æ®, å› æ­¤æŸ¥è¯¢æ•ˆç‡å°±æ¯”è¾ƒé«˜äº†.

**rowå­—æ®µï¼š**

MySQL æŸ¥è¯¢ä¼˜åŒ–å™¨æ ¹æ®ç»Ÿè®¡ä¿¡æ¯, ä¼°ç®— SQL è¦æŸ¥æ‰¾åˆ°ç»“æœé›†éœ€è¦æ‰«æè¯»å–çš„æ•°æ®è¡Œæ•°ã€‚
è¿™ä¸ªå€¼éå¸¸ç›´è§‚æ˜¾ç¤º SQL çš„æ•ˆç‡å¥½åï¼ŒåŸåˆ™ä¸Š rows è¶Šå°è¶Šå¥½ã€‚





[MySQL æ€§èƒ½ä¼˜åŒ–ç¥å™¨ Explain ä½¿ç”¨åˆ†æ - åå°å¼€å‘ - SegmentFault æ€å¦](https://segmentfault.com/a/1190000008131735 "MySQL æ€§èƒ½ä¼˜åŒ–ç¥å™¨ Explain ä½¿ç”¨åˆ†æ - åå°å¼€å‘ - SegmentFault æ€å¦") â­

[è¯»æ‡‚ MySQL æ‰§è¡Œè®¡åˆ’ - æ–‡ç«  - ä¼¯ä¹åœ¨çº¿](http://blog.jobbole.com/112877/ "è¯»æ‡‚ MySQL æ‰§è¡Œè®¡åˆ’ - æ–‡ç«  - ä¼¯ä¹åœ¨çº¿")





#### **ç´¢å¼•**

é—®é¢˜ï¼šç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•ä½¿ç”¨ç´¢å¼•ï¼Ÿç´¢å¼•çš„ç±»å‹ï¼Ÿç´¢å¼•çš„ä¼˜ç¼ºç‚¹ï¼Ÿ

> MySQL

MySQLå®˜æ–¹å¯¹ç´¢å¼•çš„å®šä¹‰ä¸ºï¼š**ç´¢å¼•ï¼ˆIndexï¼‰æ˜¯å¸®åŠ©MySQLé«˜æ•ˆè·å–æ•°æ®çš„æ•°æ®ç»“æ„**ã€‚æå–å¥å­ä¸»å¹²ï¼Œå°±å¯ä»¥å¾—åˆ°ç´¢å¼•çš„æœ¬è´¨ï¼šç´¢å¼•æ˜¯æ•°æ®ç»“æ„ã€‚

æˆ‘ä»¬çŸ¥é“ï¼Œæ•°æ®åº“æŸ¥è¯¢æ˜¯æ•°æ®åº“çš„æœ€ä¸»è¦åŠŸèƒ½ä¹‹ä¸€ã€‚æˆ‘ä»¬éƒ½å¸Œæœ›æŸ¥è¯¢æ•°æ®çš„é€Ÿåº¦èƒ½å°½å¯èƒ½çš„å¿«ï¼Œå› æ­¤æ•°æ®åº“ç³»ç»Ÿçš„è®¾è®¡è€…ä¼šä»æŸ¥è¯¢ç®—æ³•çš„è§’åº¦è¿›è¡Œä¼˜åŒ–ã€‚æœ€åŸºæœ¬çš„æŸ¥è¯¢ç®—æ³•å½“ç„¶æ˜¯[é¡ºåºæŸ¥æ‰¾](http://en.wikipedia.org/wiki/Linear_search)ï¼ˆlinear searchï¼‰ï¼Œè¿™ç§å¤æ‚åº¦ä¸ºO(n)çš„ç®—æ³•åœ¨æ•°æ®é‡å¾ˆå¤§æ—¶æ˜¾ç„¶æ˜¯ç³Ÿç³•çš„ï¼Œå¥½åœ¨è®¡ç®—æœºç§‘å­¦çš„å‘å±•æä¾›äº†å¾ˆå¤šæ›´ä¼˜ç§€çš„æŸ¥æ‰¾ç®—æ³•ï¼Œä¾‹å¦‚[äºŒåˆ†æŸ¥æ‰¾](http://en.wikipedia.org/wiki/Binary_search_algorithm)ï¼ˆbinary searchï¼‰ã€[äºŒå‰æ ‘æŸ¥æ‰¾](http://en.wikipedia.org/wiki/Binary_search_tree)ï¼ˆbinary tree searchï¼‰ç­‰ã€‚å¦‚æœç¨å¾®åˆ†æä¸€ä¸‹ä¼šå‘ç°ï¼Œæ¯ç§æŸ¥æ‰¾ç®—æ³•éƒ½åªèƒ½åº”ç”¨äºç‰¹å®šçš„æ•°æ®ç»“æ„ä¹‹ä¸Šï¼Œä¾‹å¦‚äºŒåˆ†æŸ¥æ‰¾è¦æ±‚è¢«æ£€ç´¢æ•°æ®æœ‰åºï¼Œè€ŒäºŒå‰æ ‘æŸ¥æ‰¾åªèƒ½åº”ç”¨äº[äºŒå‰æŸ¥æ‰¾æ ‘](http://en.wikipedia.org/wiki/Binary_search_tree)ä¸Šï¼Œä½†æ˜¯æ•°æ®æœ¬èº«çš„ç»„ç»‡ç»“æ„ä¸å¯èƒ½å®Œå…¨æ»¡è¶³å„ç§æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚ï¼Œç†è®ºä¸Šä¸å¯èƒ½åŒæ—¶å°†ä¸¤åˆ—éƒ½æŒ‰é¡ºåºè¿›è¡Œç»„ç»‡ï¼‰ï¼Œ**æ‰€ä»¥ï¼Œåœ¨æ•°æ®ä¹‹å¤–ï¼Œæ•°æ®åº“ç³»ç»Ÿè¿˜ç»´æŠ¤ç€æ»¡è¶³ç‰¹å®šæŸ¥æ‰¾ç®—æ³•çš„æ•°æ®ç»“æ„ï¼Œè¿™äº›æ•°æ®ç»“æ„ä»¥æŸç§æ–¹å¼å¼•ç”¨ï¼ˆæŒ‡å‘ï¼‰æ•°æ®**ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨è¿™äº›æ•°æ®ç»“æ„ä¸Šå®ç°é«˜çº§æŸ¥æ‰¾ç®—æ³•ã€‚è¿™ç§æ•°æ®ç»“æ„ï¼Œå°±æ˜¯ç´¢å¼•ã€‚



ç´¢å¼•æ˜¯åœ¨å­˜å‚¨å¼•æ“å±‚å®ç°çš„ï¼Œè€Œä¸æ˜¯åœ¨æœåŠ¡å™¨å±‚å®ç°çš„ï¼Œæ‰€ä»¥ä¸åŒå­˜å‚¨å¼•æ“å…·æœ‰ä¸åŒçš„ç´¢å¼•ç±»å‹å’Œå®ç°ã€‚



**B+ Treeç´¢å¼•**

- ä¸»ç´¢å¼•ï¼ˆæ˜¯ä¸€ç§èšç°‡ç´¢å¼•çš„ç´¢å¼•æ–¹å¼ï¼Œä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•ï¼‰
- è¾…åŠ©ç´¢å¼•



å› ä¸ºä¸å†éœ€è¦è¿›è¡Œå…¨è¡¨æ‰«æï¼Œåªéœ€è¦å¯¹æ ‘è¿›è¡Œæœç´¢å³å¯ï¼Œæ‰€ä»¥æŸ¥æ‰¾é€Ÿåº¦å¿«å¾ˆå¤šã€‚

é™¤äº†ç”¨äºæŸ¥æ‰¾ï¼Œè¿˜å¯ä»¥ç”¨äºæ’åºå’Œåˆ†ç»„ã€‚



>  æ’å…¥åˆ é™¤æ“ä½œä¼šç ´åå¹³è¡¡æ ‘çš„å¹³è¡¡æ€§ï¼Œå› æ­¤åœ¨æ’å…¥åˆ é™¤æ“ä½œä¹‹åï¼Œéœ€è¦å¯¹æ ‘è¿›è¡Œä¸€ä¸ªåˆ†è£‚ã€åˆå¹¶ã€æ—‹è½¬ç­‰æ“ä½œæ¥ç»´æŠ¤å¹³è¡¡æ€§ã€‚
>
> è€Œ B+ Treeä¹Ÿæ˜¯åŸºäºå¹³è¡¡æ ‘(B Tree)æ¥å®ç°çš„ã€‚



**ç´¢å¼•ä¼˜åŒ–ï¼š**

1.ç‹¬ç«‹çš„åˆ—

åœ¨è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œç´¢å¼•åˆ—**ä¸èƒ½**æ˜¯è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿ**ä¸èƒ½**æ˜¯å‡½æ•°çš„å‚æ•°ï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨ç´¢å¼•ã€‚

ä¾‹å¦‚ä¸‹é¢çš„æŸ¥è¯¢**ä¸èƒ½ä½¿ç”¨** actor_id åˆ—çš„ç´¢å¼•ï¼š

```sql
SELECT actor_id FROM sakila.actor WHERE actor_id + 1 = 5;
```

2.å¤šåˆ—ç´¢å¼•

åœ¨éœ€è¦ä½¿ç”¨å¤šä¸ªåˆ—ä½œä¸ºæ¡ä»¶è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨å¤šåˆ—ç´¢å¼•æ¯”ä½¿ç”¨å¤šä¸ªå•åˆ—ç´¢å¼•æ€§èƒ½æ›´å¥½ã€‚ä¾‹å¦‚ä¸‹é¢çš„è¯­å¥ä¸­ï¼Œæœ€å¥½æŠŠ actor_id å’Œ film_id è®¾ç½®ä¸ºå¤šåˆ—ç´¢å¼•ã€‚

```
SELECT film_id, actor_ id FROM sakila.film_actor
WHERE actor_id = 1 AND film_id = 1;
```

3.ç´¢å¼•åˆ—çš„é¡ºåº





**ç´¢å¼•ç±»å‹ï¼š**

- æ™®é€šç´¢å¼•ï¼šä»…åŠ é€ŸæŸ¥è¯¢
- å”¯ä¸€ç´¢å¼•ï¼šåŠ é€ŸæŸ¥è¯¢ + åˆ—å€¼å”¯ä¸€ï¼ˆå¯ä»¥æœ‰nullï¼‰
- ä¸»é”®ç´¢å¼•ï¼šåŠ é€ŸæŸ¥è¯¢ + åˆ—å€¼å”¯ä¸€ï¼ˆä¸å¯ä»¥æœ‰nullï¼‰+ è¡¨ä¸­åªæœ‰ä¸€ä¸ª
- ç»„åˆç´¢å¼•ï¼šå¤šåˆ—å€¼ç»„æˆä¸€ä¸ªç´¢å¼•ï¼Œä¸“é—¨ç”¨äºç»„åˆæœç´¢ï¼Œå…¶æ•ˆç‡å¤§äºç´¢å¼•åˆå¹¶
- å…¨æ–‡ç´¢å¼•ï¼šå¯¹æ–‡æœ¬çš„å†…å®¹è¿›è¡Œåˆ†è¯ï¼Œè¿›è¡Œæœç´¢



åˆ›å»ºæ™®é€šç´¢å¼•`CREATE INDEX index_name ON table_name(col_name);`

åˆ›å»ºå”¯ä¸€ç´¢å¼•`CREATE UNIQUE INDEX index_name ON table_name(col_name);`

åˆ›å»ºæ™®é€šç»„åˆç´¢å¼•`CREATE INDEX index_name ON table_name(col_name_1,col_name_2);`

åˆ›å»ºå”¯ä¸€ç»„åˆç´¢å¼•`CREATE UNIQUE INDEX index_name ON table_name(col_name_1,col_name_2);`



**ç´¢å¼•çš„ç¼ºç‚¹ï¼š**

- åˆ›å»ºç´¢å¼•å’Œç»´æŠ¤ç´¢å¼•è¦è€—è´¹æ—¶é—´ï¼Œè¿™ç§æ—¶é—´éšç€æ•°æ®é‡çš„å¢åŠ è€Œå¢åŠ ã€‚

- ç´¢å¼•éœ€è¦å ç‰©ç†ç©ºé—´ï¼Œé™¤äº†æ•°æ®è¡¨å æ•°æ®ç©ºé—´ä¹‹å¤–ï¼Œæ¯ä¸€ä¸ªç´¢å¼•è¿˜è¦å ä¸€å®šçš„ç‰©ç†ç©ºé—´ï¼Œå¦‚æœè¦å»ºç«‹èšç°‡ç´¢å¼•ï¼Œé‚£ä¹ˆéœ€è¦çš„ç©ºé—´å°±ä¼šæ›´å¤§ã€‚

- å½“å¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹çš„æ—¶å€™ï¼Œç´¢å¼•ä¹Ÿè¦åŠ¨æ€çš„ç»´æŠ¤ï¼Œè¿™æ ·å°±é™ä½äº†æ•°æ®çš„ç»´æŠ¤é€Ÿåº¦ã€‚



[CS-Notes/MySQL.md ](https://github.com/CyC2018/CS-Notes/blob/master/notes/MySQL.md "CS-Notes/MySQL.md at master Â· CyC2018/CS-Notes")

[MySQLç´¢å¼•èƒŒåçš„æ•°æ®ç»“æ„åŠç®—æ³•åŸç†](http://blog.codinglabs.org/articles/theory-of-mysql-index.html "CodingLabs - MySQLç´¢å¼•èƒŒåçš„æ•°æ®ç»“æ„åŠç®—æ³•åŸç†") â­

[æ•°æ®åº“ä¸¤å¤§å¿…å¤‡ç¥å™¨ï¼šç´¢å¼•å’Œé”åº•å±‚åŸç†æ˜¯ä»€ä¹ˆï¼-Javaæ¶æ„çš„åšå®¢-51CTOåšå®¢](http://blog.51cto.com/13732225/2300174 "æ•°æ®åº“ä¸¤å¤§å¿…å¤‡ç¥å™¨ï¼šç´¢å¼•å’Œé”åº•å±‚åŸç†æ˜¯ä»€ä¹ˆï¼-Javaæ¶æ„çš„åšå®¢-51CTOåšå®¢")  â­

[æµ…è°ˆç´¢å¼•çš„ä¼˜ç¼ºç‚¹å’Œå»ºç«‹ç´¢å¼•çš„åŸåˆ™ - ç®€ä¹¦](https://www.jianshu.com/p/107e5bdf4148 "æµ…è°ˆç´¢å¼•çš„ä¼˜ç¼ºç‚¹å’Œå»ºç«‹ç´¢å¼•çš„åŸåˆ™ - ç®€ä¹¦")



#### **æ‹†åˆ†è¡¨**

è¡¨ç»“æ„ä¼˜åŒ–ï¼›å¤§å­—æ®µåˆ†ç¦»åˆ°å•ç‹¬çš„è¡¨ä¸­

å‚ç›´åˆ†å‰²





### æ•°æ®åº“éƒ¨ç½²



ä½¿ç”¨mycat å®ç°æ•°æ®åº“åˆ†ç‰‡

Mycatæ˜¯æ•°æ®åº“åˆ†åº“åˆ†è¡¨çš„ä¸­é—´ä»¶ï¼ŒMycatä½¿ç”¨æœ€å¤šçš„ä¸¤ä¸ªåŠŸèƒ½æ˜¯ï¼š

- è¯»å†™åˆ†ç¦»
- åˆ†åº“åˆ†è¡¨åŠŸèƒ½

[å¤§è§„æ¨¡MySQLè¿ç»´é™·é˜±ï¼šä½¿ç”¨MyCatè¸©å‘ç¯‡ - 51CTO.COM](http://database.51cto.com/art/201809/584469.htm) ä½œè€…çš„è§‚ç‚¹æœ‰å¾…éªŒè¯ã€‚

![](https://img-blog.csdnimg.cn/20181028173223411.png)



ä¸»ä»å¤åˆ¶



è¯»å†™åˆ†ç¦»ï¼šä¹Ÿå¯ä»¥åœ¨ä»£ç å±‚é¢å®ç°ï¼ˆæ…•è¯¾ï¼‰ã€‚







## Springå…¨å®¶æ¡¶

ä»‹ç»spring

[javaé¢è¯•](http://www.jfox.info/ "javaé¢è¯•")

[Springä¸­å¸¸è§é¢è¯•é¢˜ | javaé¢è¯•](http://www.jfox.info/2018/120f4b3/ "Springä¸­å¸¸è§é¢è¯•é¢˜ | javaé¢è¯•")



### spring



Spring Beanç”Ÿå‘½å‘¨æœŸï¼š

[Spring Beançš„ç”Ÿå‘½å‘¨æœŸï¼ˆéå¸¸è¯¦ç»†ï¼‰](https://www.cnblogs.com/zrtqsk/p/3735273.html "Spring Beançš„ç”Ÿå‘½å‘¨æœŸï¼ˆéå¸¸è¯¦ç»†ï¼‰ - Chandler Qian - åšå®¢å›­")

[Spring Beanç”Ÿå‘½å‘¨æœŸ - ç®€ä¹¦](https://www.jianshu.com/p/3944792a5fff "Spring Beanç”Ÿå‘½å‘¨æœŸ - ç®€ä¹¦") 

[SpringåŸºç¡€å­¦ä¹ (ä¸‰)â€”è¯¦è§£Bean(ä¸‹) - âœˆâœˆâœˆ - åšå®¢å›­](https://www.cnblogs.com/yangang2013/p/5556049.html "SpringåŸºç¡€å­¦ä¹ (ä¸‰)â€”è¯¦è§£Bean(ä¸‹) - âœˆâœˆâœˆ - åšå®¢å›­")  è¿™é‡Œæœ‰ä¸ªç®€å•çš„ä¸€ç‚¹çš„è§£é‡Šã€‚

![](assets/beanè£…è½½åˆ°springåº”ç”¨ä¸Šä¸‹æ–‡ä¸­çš„å…¸å‹ç”Ÿå‘½è¿‡ç¨‹.png)





springåŸç†ï¼š



springä¸­ä½¿ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼ï¼š











### spring mvc

åŸç†ï¼Œrequestæµç¨‹ï¼Œç”Ÿå‘½å‘¨æœŸ

![](https://img-blog.csdn.net/20170109163524948?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQveXhmbG92ZWdzMjAxMg==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

[springMVCçš„ç”Ÿå‘½å‘¨æœŸ](https://blog.csdn.net/l_blackeagle/article/details/61926695 "springMVCçš„ç”Ÿå‘½å‘¨æœŸ - l_blackeagleçš„åšå®¢ - CSDNåšå®¢") ç›¸æ¯”äºä¹‹å‰ä¹¦ä¸Šçœ‹åˆ°çš„å¤šäº† **å¤„ç†å™¨é€‚é…å™¨ **







### spring Security









### Spring Data



spring data ä¸ spring data jpa çš„åŒºåˆ«ï¼Ÿ





### Springäº‹åŠ¡



é¡¹ç›®ä¸­å¼‚å¸¸å¦‚ä½•å¤„ç†ï¼Ÿ

Spring MVCå¼‚å¸¸å¤„ç†å™¨ã€‚







### Spring Boot





### Spring Cloud





## Mybatis



æŒä¹…åŒ–

åˆ†é¡µ

æ‰¹é‡å¤„ç†





## Dubbo



æ³¨æ„ï¼šç®­å¤´çš„é¢œè‰²å«ä¹‰ï¼›æ­¤å›¾å¿…é¡»è¦ä¼šç”»

![](http://dubbo.incubator.apache.org/docs/zh-cn/user/sources/images/dubbo-architecture.jpg)



![](assets/dubbo-architecture.jpg)

[Dubbo æ¶æ„](http://dubbo.incubator.apache.org/zh-cn/docs/user/preface/architecture.html "architecture")

æ‘˜é€‰çš„éƒ¨åˆ†ç‰¹ç‚¹ï¼š

- æ³¨å†Œä¸­å¿ƒå…¨éƒ¨å®•æ‰åï¼ŒæœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä»èƒ½é€šè¿‡æœ¬åœ°ç¼“å­˜é€šè®¯ã€‚
- æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒéƒ½æ˜¯**å¯é€‰çš„**ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å¯ä»¥ç›´è¿æœåŠ¡æä¾›è€…
- æ³¨å†Œä¸­å¿ƒè´Ÿè´£æœåŠ¡åœ°å€çš„æ³¨å†Œä¸æŸ¥æ‰¾ï¼Œç›¸å½“äºç›®å½•æœåŠ¡ï¼ŒæœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…åªåœ¨å¯åŠ¨æ—¶ä¸æ³¨å†Œä¸­å¿ƒäº¤äº’ï¼Œæ³¨å†Œä¸­å¿ƒä¸è½¬å‘è¯·æ±‚ï¼Œå‹åŠ›è¾ƒå°

- æ³¨å†Œä¸­å¿ƒå’Œç›‘æ§ä¸­å¿ƒå…¨éƒ¨å®•æœºï¼Œä¸å½±å“å·²è¿è¡Œçš„æä¾›è€…å’Œæ¶ˆè´¹è€…ï¼Œ**æ¶ˆè´¹è€…åœ¨æœ¬åœ°ç¼“å­˜äº†æä¾›è€…åˆ—è¡¨** 
- æ•°æ®åº“å®•æ‰åï¼Œæ³¨å†Œä¸­å¿ƒä»èƒ½é€šè¿‡ç¼“å­˜æä¾›æœåŠ¡åˆ—è¡¨æŸ¥è¯¢ï¼Œä½†ä¸èƒ½æ³¨å†Œæ–°æœåŠ¡





**Dubboæ˜¯ä»€ä¹ˆï¼Ÿ**

Dubboæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„åŸºäº Java çš„é«˜æ€§èƒ½ RPC åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ã€‚



> [å®˜æ–¹ä»‹ç»](http://dubbo.apache.org/zh-cn/ "home")ï¼šApache Dubbo (incubating) |ËˆdÊŒbÉ™ÊŠ| æ˜¯ä¸€æ¬¾é«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æºJava RPCæ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼šé¢å‘æ¥å£çš„è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼Œæ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼Œä»¥åŠæœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ã€‚



**ä¸ºä»€ä¹ˆä½¿ç”¨Dubbo?**

ä½¿ç”¨ Dubbo å¯ä»¥å°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œå¯ç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨çµæ´»æ‰©å±•ï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚



**Dubboé‡Œé¢æœ‰å“ªå‡ ç§èŠ‚ç‚¹è§’è‰²ï¼Ÿ**

![DubboèŠ‚ç‚¹è§’è‰²](assets/DubboèŠ‚ç‚¹è§’è‰².png)



**ç”»ä¸€ç”»æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æµç¨‹å›¾**

![](assets/dubbo-architecture.jpg)



**Dubboæœ‰å“ªå‡ ç§é…ç½®æ–¹å¼ï¼Ÿ**

1ï¼‰Spring é…ç½®æ–¹å¼
2ï¼‰Java API é…ç½®æ–¹å¼



**Dubbo æ ¸å¿ƒçš„é…ç½®æœ‰å“ªäº›ï¼Ÿ**

![Dubboæ ¸å¿ƒé…ç½®](assets/Dubboæ ¸å¿ƒé…ç½®.png)

é…ç½®ä¹‹é—´çš„å…³ç³»:

![Dubboæ ¸å¿ƒé…ç½®å…³ç³»å›¾](assets/Dubboæ ¸å¿ƒé…ç½®å…³ç³»å›¾.jpg)

> è¡¥å……Dubboçš„æœåŠ¡æ²»ç†å›¾



**Dubboé»˜è®¤ä½¿ç”¨ä»€ä¹ˆæ³¨å†Œä¸­å¿ƒï¼Œè¿˜æœ‰åˆ«çš„é€‰æ‹©å—ï¼Ÿ**

æ¨èä½¿ç”¨ Zookeeper ä½œä¸ºæ³¨å†Œä¸­å¿ƒï¼Œè¿˜æœ‰ Redisã€Multicastã€Simple æ³¨å†Œä¸­å¿ƒï¼Œä½†ä¸æ¨èã€‚



**Dubboéœ€è¦ Web å®¹å™¨å—ï¼Ÿ**

ä¸éœ€è¦ï¼Œå¦‚æœç¡¬è¦ç”¨ Web å®¹å™¨ï¼Œåªä¼šå¢åŠ å¤æ‚æ€§ï¼Œä¹Ÿæµªè´¹èµ„æºã€‚

**Dubboå†…ç½®äº†å“ªå‡ ç§æœåŠ¡å®¹å™¨ï¼Ÿ**

- Spring Container
- Jetty Container
- Log4j Container

Dubbo çš„æœåŠ¡å®¹å™¨åªæ˜¯ä¸€ä¸ªç®€å•çš„ Main æ–¹æ³•ï¼Œå¹¶åŠ è½½ä¸€ä¸ªç®€å•çš„ Spring å®¹å™¨ï¼Œç”¨äºæš´éœ²æœåŠ¡ã€‚



**Dubboæ¨èä½¿ç”¨ä»€ä¹ˆåºåˆ—åŒ–æ¡†æ¶ï¼Œä½ çŸ¥é“çš„è¿˜æœ‰å“ªäº›ï¼Ÿ**

æ¨èä½¿ç”¨Hessianåºåˆ—åŒ–ï¼Œè¿˜æœ‰Duddoã€FastJsonã€Javaè‡ªå¸¦åºåˆ—åŒ–ã€‚





[å²ä¸Šæœ€å…¨ 40 é“ Dubbo é¢è¯•é¢˜åŠç­”æ¡ˆï¼Œçœ‹å®Œç¢¾å‹é¢è¯•å®˜](https://www.itcodemonkey.com/article/10057.html "å²ä¸Šæœ€å…¨ 40 é“ Dubbo é¢è¯•é¢˜åŠç­”æ¡ˆï¼Œçœ‹å®Œç¢¾å‹é¢è¯•å®˜ï¼ - ITç¨‹åºçŒ¿")





## Zookeeper



ZooKeeperæ‰€æä¾›çš„æœåŠ¡ä¸»è¦æ˜¯é€šè¿‡ï¼šæ•°æ®ç»“æ„+åŸè¯­+watcheræœºåˆ¶ï¼Œä¸‰ä¸ªéƒ¨åˆ†æ¥å®ç°çš„ã€‚



- æ•°æ®ç»“æ„ï¼šè‡ªä¹ è®¾è®¡çš„**Znode**æ•°æ®ç»“æ„
- åŸè¯­ï¼šå¯¹Znodeçš„ä¸€äº›æ“ä½œ
- watcheræœºåˆ¶ï¼šç”¨äºåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹å‘å¸ƒé€šçŸ¥çš„é€šçŸ¥æœºåˆ¶



èŠ‚ç‚¹ç±»å‹ï¼š

- ä¸´æ—¶èŠ‚ç‚¹
- æ°¸ä¹…èŠ‚ç‚¹

> è¿˜å¯ç»†åˆ†ä¸ºæ˜¯å¦æ˜¯é¡ºåºèŠ‚ç‚¹



Zookeeperæ˜¯ä»€ä¹ˆï¼Ÿ

ZooKeeperæ˜¯ä¸€ä¸ª**åˆ†å¸ƒå¼**çš„ï¼Œå¼€æ”¾æºç çš„åˆ†å¸ƒå¼**åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡**ï¼Œæ˜¯Googleçš„Chubbyï¼ˆé—­æºï¼‰ä¸€ä¸ªå¼€æºçš„å®ç°ï¼Œå®ƒæ˜¯**é›†ç¾¤çš„ç®¡ç†è€…**ï¼Œ**ç›‘è§†ç€é›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€æ ¹æ®èŠ‚ç‚¹æäº¤çš„åé¦ˆè¿›è¡Œä¸‹ä¸€æ­¥åˆç†æ“ä½œ**ã€‚



ZooKeeperæ˜¯ä¸€ç§ä¸ºåˆ†å¸ƒå¼åº”ç”¨æ‰€è®¾è®¡çš„é«˜å¯ç”¨ã€é«˜æ€§èƒ½ä¸”ä¸€è‡´çš„å¼€æºåè°ƒæœåŠ¡ï¼Œå®ƒæä¾›äº†ä¸€é¡¹åŸºæœ¬æœåŠ¡ï¼š**åˆ†å¸ƒå¼é”æœåŠ¡**ã€‚ç”±äºZooKeeperçš„å¼€æºç‰¹æ€§ï¼Œåæ¥æˆ‘ä»¬çš„å¼€å‘è€…åœ¨åˆ†å¸ƒå¼é”çš„åŸºç¡€ä¸Šï¼Œæ‘¸ç´¢äº†å‡ºäº†å…¶ä»–çš„ä½¿ç”¨æ–¹æ³•ï¼š**é…ç½®ç»´æŠ¤ã€ç»„æœåŠ¡ã€åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—**ã€**åˆ†å¸ƒå¼é€šçŸ¥/åè°ƒ**ç­‰ã€‚



Zookeeperæä¾›äº†ä»€ä¹ˆï¼Ÿ

1. æ–‡ä»¶ç³»ç»Ÿã€‚ï¼ˆZnodeèŠ‚ç‚¹ï¼‰
2. é€šçŸ¥æœºåˆ¶ã€‚



Zookeeperåšäº†ä»€ä¹ˆï¼Ÿ

1ã€å‘½åæœåŠ¡
2ã€é…ç½®ç®¡ç†
3ã€é›†ç¾¤ç®¡ç†
4ã€åˆ†å¸ƒå¼é”
5ã€é˜Ÿåˆ—ç®¡ç†



Zookeeperçš„å‘½åæœåŠ¡ï¼Ÿ

å‘½åæœåŠ¡æ˜¯æŒ‡é€šè¿‡æŒ‡å®šçš„åå­—æ¥**è·å–èµ„æº**æˆ–è€…**æœåŠ¡çš„åœ°å€**ï¼Œåˆ©ç”¨zkåˆ›å»ºä¸€ä¸ªå…¨å±€çš„è·¯å¾„ï¼Œå³æ˜¯**å”¯ä¸€**çš„è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„å°±å¯ä»¥ä½œä¸ºä¸€ä¸ªåå­—ï¼ŒæŒ‡å‘é›†ç¾¤ä¸­çš„é›†ç¾¤ï¼Œæä¾›çš„æœåŠ¡çš„åœ°å€ï¼Œæˆ–è€…ä¸€ä¸ªè¿œç¨‹çš„å¯¹è±¡ç­‰ç­‰ã€‚







> **åˆ†å¸ƒå¼åè°ƒæŠ€æœ¯** ä¸»è¦ç”¨æ¥è§£å†³åˆ†å¸ƒå¼ç¯å¢ƒå½“ä¸­å¤šä¸ªè¿›ç¨‹ä¹‹é—´çš„åŒæ­¥æ§åˆ¶ï¼Œè®©ä»–ä»¬æœ‰åºçš„å»è®¿é—®æŸç§ä¸´ç•Œèµ„æºï¼Œé˜²æ­¢é€ æˆ"è„æ•°æ®"çš„åæœã€‚
>
> åˆ†å¸ƒå¼é”ä¹Ÿæ˜¯æˆ‘ä»¬**åˆ†å¸ƒå¼åè°ƒæŠ€æœ¯**å®ç°çš„æ ¸å¿ƒå†…å®¹





[zookeeperé¢è¯•é¢˜ - ä¸ªäººæ–‡ç«  - SegmentFault æ€å¦](https://segmentfault.com/a/1190000014479433 "zookeeperé¢è¯•é¢˜ - ä¸ªäººæ–‡ç«  - SegmentFault æ€å¦")

[ZooKeeperå­¦ä¹ ç¬¬ä¸€æœŸ---Zookeeperç®€å•ä»‹ç» - å¼€æºä¸­å›½](https://my.oschina.net/u/4008390/blog/2963092?nocache=1544075487274 "ZooKeeperå­¦ä¹ ç¬¬ä¸€æœŸ---Zookeeperç®€å•ä»‹ç» - watermelon11çš„ä¸ªäººç©ºé—´ - å¼€æºä¸­å›½") â­ å·²ç»å‡ºåˆ°ç¬¬9æœŸï¼Œ



## Redis

[è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œå°±åŸºæœ¬æå®šäº†Redisæ•°æ®åº“](https://mp.weixin.qq.com/s?__biz=MjM5ODI5Njc2MA==&mid=2655819214&idx=1&sn=876739ed2df78a420536e0c3a17eab26&chksm=bd74d8198a03510f0c639bf2410432a76cfc200546ec320e6fcbffbdd003ffc6048148b6d65a&mpshare=1&scene=24&srcid=1028pVsJdfE8OC8D7EzolBbI#rd "è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œå°±åŸºæœ¬æå®šäº†Redisæ•°æ®åº“")

[ä¸ºä»€ä¹ˆåˆ†å¸ƒå¼ä¸€å®šè¦æœ‰Redis?](https://mp.weixin.qq.com/s?__biz=MjM5ODI5Njc2MA==&mid=2655816862&idx=1&sn=29c6f6f509b12e4e39141f8b7b5bc1e2&chksm=bd74c1498a03485f14c58763ea4a00dbcaa73a2da6ede80fc512d55940b34aa89063fcaa6266&scene=21#wechat_redirect "51CTOæŠ€æœ¯æ ˆ") 



å•çº¿ç¨‹ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ

1. çº¯å†…å­˜
2. éé˜»å¡IO
3. é¿å…çº¿ç¨‹åˆ‡æ¢å’Œç«äº‰æ¶ˆè€—





Redisçš„å‡ ä¸ªä¸»è¦é—®é¢˜ï¼š

- ç±»å‹å’Œä½¿ç”¨åœºæ™¯
- **ç¼“å­˜å’Œæ•°æ®åº“åŒå†™ä¸€è‡´æ€§é—®é¢˜**
- **ç¼“å­˜é›ªå´©é—®é¢˜**
- **ç¼“å­˜å‡»ç©¿é—®é¢˜**
- **ç¼“å­˜çš„å¹¶å‘ç«äº‰é—®é¢˜**
- Redisé›†ç¾¤éƒ¨ç½²ï¼Œï¼ˆä¸€è‡´æ€§å“ˆå¸Œé—®é¢˜ï¼‰

 



### ç¼“å­˜å’Œæ•°æ®åº“åŒå†™ä¸€è‡´æ€§é—®é¢˜

[ã€åŸåˆ›ã€‘åˆ†å¸ƒå¼ä¹‹æ•°æ®åº“å’Œç¼“å­˜åŒå†™ä¸€è‡´æ€§æ–¹æ¡ˆè§£æ - å­¤ç‹¬çƒŸ - åšå®¢å›­](https://www.cnblogs.com/rjzheng/p/9041659.html "[åŸåˆ›]åˆ†å¸ƒå¼ä¹‹æ•°æ®åº“å’Œç¼“å­˜åŒå†™ä¸€è‡´æ€§æ–¹æ¡ˆè§£æ - å­¤ç‹¬çƒŸ - åšå®¢å›­") 

[åˆ†å¸ƒå¼ä¹‹æ•°æ®åº“å’Œç¼“å­˜åŒå†™ä¸€è‡´æ€§æ–¹æ¡ˆè§£æï¼ - å¾åˆ˜æ ¹çš„åšå®¢ - CSDNåšå®¢](https://blog.csdn.net/xlgen157387/article/details/80389101 "åˆ†å¸ƒå¼ä¹‹æ•°æ®åº“å’Œç¼“å­˜åŒå†™ä¸€è‡´æ€§æ–¹æ¡ˆè§£æï¼ - å¾åˆ˜æ ¹çš„åšå®¢ - CSDNåšå®¢")



[è¿›é˜¶çš„Redisä¹‹å“ˆå¸Œåˆ†ç‰‡åŸç†ä¸é›†ç¾¤å®æˆ˜ - æ˜é‡‘](https://juejin.im/post/5be8ee10e51d450bd74ed516?utm_source=gold_browser_extension "è¿›é˜¶çš„Redisä¹‹å“ˆå¸Œåˆ†ç‰‡åŸç†ä¸é›†ç¾¤å®æˆ˜ - æ˜é‡‘")





é¡¹ç›®ä¸­å“ªäº›åœ°æ–¹ä½¿ç”¨åˆ°redisï¼š

- å¹¿å‘Šï¼š
- è´­ç‰©è½¦ï¼š
- ç§’æ€ï¼š
- ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼šä½¿ç”¨redisç¼“å­˜**çŸ­ä¿¡éªŒè¯ç **ï¼Œ å¯ä»¥ä½¿ç”¨æ³¨å†Œæ—¶çš„ç”¨æˆ·åæˆ–ç”µè¯å·ç ä½œä¸ºkey









## ç§’æ€









## è´­ç‰©è½¦









## å…¨æ–‡æ£€ç´¢ solrï¼ŒES











## å•ç‚¹ç™»å½•

[å•ç‚¹ç™»å½•åŸç†ä¸ç®€å•å®ç° - ywlaker - åšå®¢å›­](https://www.cnblogs.com/ywlaker/p/6113927.html "å•ç‚¹ç™»å½•åŸç†ä¸ç®€å•å®ç° - ywlaker - åšå®¢å›­") **å¼ºçƒˆæ¨è**ï¼Œæœ‰ä¸æ˜ç™½çš„åœ°æ–¹è®°å¾—çœ‹ä¸‹é¢çš„è¯„è®ºã€‚

å…³é”®ç‚¹ï¼š ç†è§£å…¨å±€ä¼šè¯å’Œå±€éƒ¨ä¼šè¯ï¼›ä»¤ç‰Œåªåœ¨å„ç³»ç»Ÿä¸­ä½¿ç”¨ï¼›æµè§ˆå™¨å’Œå…¨å±€ä¼šè¯å’Œå±€éƒ¨ä¼šè¯ä¹‹é—´ä¾ç„¶å’Œå•ç³»ç»Ÿä¸€æ ·ä½¿ç”¨cookieï¼ˆæ¯ä¸ªç³»ç»Ÿcookieä¸åŒï¼‰

å¯èƒ½äº§ç”Ÿçš„ç–‘æƒ‘è®²è§£ï¼šè®¿é—®ç³»ç»Ÿ2ï¼Œå¦‚æœæ²¡ç™»å½•ï¼Œä¼šè·³è½¬åˆ°è®¤è¯ä¸­å¿ƒï¼Œæ­¤æ—¶æµè§ˆå™¨å’Œè®¤è¯ä¸­å¿ƒ**å·²ç»**åœ¨**å…¨å±€ä¼šè¯ä¸­**äº†ï¼ˆè®¤è¯ä¸­å¿ƒæ£€æµ‹åˆ°ç”¨æˆ·å·²ç»åœ¨å…¨å±€ä¼šè¯ä¸­ï¼‰



**å•ç³»ç»Ÿ**ä¸­çš„cookieä¸èƒ½è·¨åŸŸï¼Œæµè§ˆå™¨å‘é€httpè¯·æ±‚æ—¶ä¼šè‡ªåŠ¨æºå¸¦ä¸è¯¥åŸŸåŒ¹é…çš„cookieï¼Œè€Œä¸æ˜¯æ‰€æœ‰cookieï¼›æ‰€ä»¥ä½¿ç”¨cookieçš„æ–¹å¼ä¸èƒ½ç”¨äºåˆ†å¸ƒå¼é›†ç¾¤ç³»ç»Ÿä¸­ã€‚

å•ç‚¹ç™»å½•å…¨ç§°Single Sign Onï¼ˆä»¥ä¸‹ç®€ç§°SSOï¼‰ï¼Œæ˜¯æŒ‡åœ¨å¤šç³»ç»Ÿåº”ç”¨ç¾¤ä¸­ç™»å½•ä¸€ä¸ªç³»ç»Ÿï¼Œä¾¿å¯åœ¨å…¶ä»–æ‰€æœ‰ç³»ç»Ÿä¸­å¾—åˆ°æˆæƒè€Œæ— éœ€å†æ¬¡ç™»å½•ï¼ŒåŒ…æ‹¬å•ç‚¹ç™»å½•ä¸å•ç‚¹æ³¨é”€ä¸¤éƒ¨åˆ†



**æ³¨æ„ï¼š**æœ‰å¤šå°æœåŠ¡å™¨å¹¶ä¸ä»£è¡¨æœ‰å¤šä¸ªä¸åŒçš„åŸŸï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªåŸŸä¸‹æœ‰å¤šå°æœåŠ¡å™¨ã€‚



**å•ç‚¹ç™»å½•æ¡†æ¶CASï¼š**

CAS Serverï¼šï¼ˆæŸå°æœåŠ¡å™¨ï¼‰ç‹¬ç«‹éƒ¨ç½²ï¼Œä¸»è¦è´Ÿè´£å¯¹ç”¨æˆ·çš„è®¤è¯å·¥ä½œ

CAS Clientï¼šï¼ˆå¦ä¸€å°æœåŠ¡å™¨ï¼‰è´Ÿè´£å¤„ç†å¯¹å®¢æˆ·ç«¯å—ä¿æŠ¤èµ„æºçš„è®¿é—®è¯·æ±‚ï¼Œéœ€è¦ç™»å½•æ—¶é‡å®šå‘åˆ°CAS Server

![](https://raw.githubusercontent.com/fandean/images/master/PicGo/CAS%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95%E5%8D%8F%E8%AE%AE%E6%B5%81%E7%A8%8B.png)





> è¡¥å……ï¼š[åŸºäºTokençš„WEBåå°è®¤è¯æœºåˆ¶ - çº¢å¿ƒæ - åšå®¢å›­](http://www.cnblogs.com/xiekeli/p/5607107.html "åŸºäºTokençš„WEBåå°è®¤è¯æœºåˆ¶ - çº¢å¿ƒæ - åšå®¢å›­")  æ˜¯å¦æœ‰å…³ç³»ï¼Ÿ
>
> [åŸºäº Token çš„èº«ä»½éªŒè¯ï¼šJSON Web Tokenï¼ˆé™„ï¼šNode.js é¡¹ç›®ï¼‰ - å®çš“ç½‘](https://ninghao.net/blog/2834 "åŸºäº Token çš„èº«ä»½éªŒè¯ï¼šJSON Web Tokenï¼ˆé™„ï¼šNode.js é¡¹ç›®ï¼‰ - å®çš“ç½‘")





### è·¨åŸŸ







## ä¸»é”®IDç”Ÿæˆç­–ç•¥

åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­



- UUID
- æ•°æ®åº“è‡ªå¢
- é›ªèŠ±ç®—æ³•
- åŸºäºRedisè‡ªç ”



![](https://raw.githubusercontent.com/fandean/images/master/PicGo/%E5%88%86%E5%B8%83%E5%BC%8Fid%E7%94%9F%E6%88%90.jpg)





## æ¶ˆæ¯é˜Ÿåˆ—

JMSå³ Javaæ¶ˆæ¯æœåŠ¡ï¼ˆJava Message Serviceï¼‰ï¼Œæ˜¯è§„èŒƒã€‚



JMS å®šä¹‰äº†äº”ç§ä¸åŒçš„**æ¶ˆæ¯æ­£æ–‡æ ¼å¼**ï¼Œä»¥åŠè°ƒç”¨çš„æ¶ˆæ¯ç±»å‹ï¼Œå…è®¸ä½ å‘é€å¹¶æ¥æ”¶ä»¥ä¸€äº›ä¸åŒå½¢å¼çš„æ•°æ®ï¼Œæä¾›ç°æœ‰æ¶ˆæ¯æ ¼å¼çš„ä¸€äº›çº§åˆ«çš„å…¼å®¹æ€§ã€‚

- TextMessage--ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡
- MapMessage--ä¸€å¥—åç§°-å€¼å¯¹
- ObjectMessage--ä¸€ä¸ªåºåˆ—åŒ–çš„ Java å¯¹è±¡
- BytesMessage--ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®æµ
- StreamMessage -- Java åŸå§‹å€¼çš„æ•°æ®æµ 



JMSæ¶ˆæ¯ä¼ é€’ç±»å‹ï¼š

- ç‚¹å¯¹ç‚¹
- å‘å¸ƒ/è®¢é˜…æ¨¡å¼



**Queue å’Œ Topicå¯¹æ¯”ï¼š**

æ³¨æ„

![](https://raw.githubusercontent.com/fandean/images/master/PicGo/20181011210259.png)



**å…±åŒç‚¹ï¼š** ä¸ç®¡æ˜¯æ¶ˆæ¯åœ¨ Queue ä¸­è¿˜æ˜¯åœ¨ Topic ä¸­ï¼Œæ¶ˆè´¹è¯¥æ¶ˆæ¯çš„æ–¹æ³•éƒ½æ˜¯é€šè¿‡å®ç° MessageListeneræ¥å£ä¸­çš„ onMessageæ–¹æ³•æ¥æ¶ˆè´¹ã€‚



ä¸Springæ•´åˆï¼Œä½¿ç”¨Springæä¾›çš„ JmsTemplate ç±»ï¼ˆæ¨¡æ¿ç±»ï¼‰





ä»€ä¹ˆæ˜¯æ­»ä¿¡ï¼Ÿ







## åˆ†å¸ƒå¼é”



åˆ©ç”¨æ’ä»–æ€§å®ç°ï¼Œå…·æœ‰æ’ä»–æ€§çš„åœ°æ–¹ï¼š

- æ–‡ä»¶ç³»ç»Ÿï¼šæ–‡ä»¶åå¿…é¡»å”¯ä¸€

- æ•°æ®åº“ï¼š ä¸»é”®ï¼Œå”¯ä¸€çº¦æŸ ï¼Œfor updateï¼ˆæ•°æ®åº“ä¸­ä¹Ÿåˆ©ç”¨äº†é”ï¼‰
- ç¼“å­˜ redisï¼š åˆ©ç”¨ setnx å‘½ä»¤
- zookeeperï¼šæ¯ä¸ªèŠ‚ç‚¹çš„åç§°å¿…é¡»å”¯ä¸€



æ’é™¤å‰ä¸¤ç§ï¼Œåˆ†å¸ƒå¼é”ä¸»è¦ä½¿ç”¨ä¸‹é¢ä¸¤ç§æ–¹å¼å®ç°ï¼š

- Redis
- Zookeeper







## åˆ†å¸ƒå¼äº‹åŠ¡



åˆ†å¸ƒå¼äº‹åŠ¡å°±æ˜¯æŒ‡äº‹åŠ¡çš„å‚ä¸è€…ã€æ”¯æŒäº‹åŠ¡çš„æœåŠ¡å™¨ã€èµ„æºæœåŠ¡å™¨ä»¥åŠäº‹åŠ¡ç®¡ç†å™¨åˆ†åˆ«ä½äºä¸åŒçš„åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸åŒèŠ‚ç‚¹ä¹‹ä¸Š





3ç§æŸ”æ€§äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼š

- å¯é æ¶ˆæ¯çš„æœ€ç»ˆä¸€è‡´æ€§æ–¹æ¡ˆã€‚ç‰¹ç‚¹ï¼š
  - å¯ç‹¬ç«‹éƒ¨ç½²ï¼Œç‹¬ç«‹ä¼¸ç¼©ï¼ˆæ‰©å±•æ€§ï¼‰
  - å…¼å®¹æ‰€æœ‰å®ç°JMSæ ‡å‡†çš„MQä¸­é—´ä»¶
  - èƒ½é™ä½ä¸šåŠ¡ç³»ç»Ÿä¸æ¶ˆæ¯ç³»ç»Ÿé—´çš„è€¦åˆæ€§
  - å¯å®ç°æ•°æ®å¯é æ€§çš„å‰æä¸‹ç¡®ä¿æœ€ç»ˆä¸€è‡´æ€§ 
- TCCä¸¤é˜¶æ®µå‹æ–¹æ¡ˆã€‚ç‰¹ç‚¹ï¼š
  - ä¸ä¸å…·ä½“çš„æœåŠ¡æ¡†æ¶è€¦åˆï¼ˆåœ¨RPCæ¶æ„ä¸­é€šç”¨ï¼‰
  - ä½äºä¸šåŠ¡æœåŠ¡å±‚ï¼Œè€Œéèµ„æºå±‚
  - å¯ä»¥çµæ´»é€‰æ‹©ä¸šåŠ¡èµ„æºçš„é”å®šç²’åº¦
  - é€‚ç”¨äºå¼ºéš”ç¦»æ€§ã€ä¸¥æ ¼ä¸€è‡´æ€§è¦æ±‚çš„ä¸šåŠ¡åœºæ™¯
  - é€‚ç”¨äºæ‰§è¡Œæ—¶é—´è¾ƒçŸ­çš„ä¸šåŠ¡
- æœ€å¤§åŠªåŠ›é€šçŸ¥å‹æ–¹æ¡ˆã€‚



![](http://static.roncoo.com/lecturer/e40c31c9e6a24e61806a4f3a18385b30.jpg)



![](http://static.roncoo.com/lecturer/aac22af596fb4c3c8fb21f3aeba5aa17.jpg)



![](http://static.roncoo.com/lecturer/920cf828fb644cc5854fa216b8b05c93.jpg)



[æ·±å…¥ç†è§£åˆ†å¸ƒå¼äº‹åŠ¡ â€“ ç å†œç½‘](http://www.codeceo.com/article/distributed-transaction.html "æ·±å…¥ç†è§£åˆ†å¸ƒå¼äº‹åŠ¡ â€“ ç å†œç½‘")

[ç»ˆäºæœ‰äººæŠŠâ€œTCCåˆ†å¸ƒå¼äº‹åŠ¡â€å®ç°åŸç†è®²æ˜ç™½äº†ï¼ - 51CTO.COM](http://developer.51cto.com/art/201811/587425.htm "ç»ˆäºæœ‰äººæŠŠ"TCCåˆ†å¸ƒå¼äº‹åŠ¡"å®ç°åŸç†è®²æ˜ç™½äº†ï¼ - 51CTO.COM")





## å‰ç«¯



ç›’å­æ¨¡å‹



### anglar





### Vue





### JS



é—­åŒ…







## ç½‘ç»œ



ä»€ä¹ˆæ˜¯é•¿è¿æ¥ï¼Ÿ

é•¿è¿æ¥ï¼ŒæŒ‡åœ¨ä¸€ä¸ªè¿æ¥ä¸Šå¯ä»¥è¿ç»­å‘é€å¤šä¸ª[æ•°æ®åŒ…](https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%8C%85/489739)ï¼Œåœ¨è¿æ¥ä¿æŒæœŸé—´ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®åŒ…å‘é€ï¼Œéœ€è¦åŒæ–¹å‘é“¾è·¯æ£€æµ‹åŒ…ã€‚æ¶‰åŠTCPä¿æ´»ï¼Œæ¡æ‰‹ã€‚

çŸ­è¿æ¥ï¼Œæ˜¯æŒ‡é€šè®¯åŒæ–¹æœ‰æ•°æ®äº¤äº’æ—¶ï¼Œå°±å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œæ•°æ®å‘é€å®Œæˆåï¼Œåˆ™æ–­å¼€æ­¤è¿æ¥ï¼Œå³æ¯æ¬¡è¿æ¥åªå®Œæˆä¸€é¡¹ä¸šåŠ¡çš„å‘é€ã€‚



é•¿è¿æ¥ã€å¿ƒè·³å’Œæ–­çº¿é‡è¿  [TCPé•¿è¿æ¥ä¸çŸ­è¿æ¥ã€å¿ƒè·³æœºåˆ¶ ](https://blog.csdn.net/pmt123456/article/details/58233999)





## é¡¹ç›®



### å‚ä¸é¡¹ç›®çš„éœ€æ±‚åˆ†æå’Œé¡¹ç›®æ„å»º







### å‚ä¸å•†å“å±•ç¤ºæ¨¡å—åŠæœç´¢æ¨¡å—çš„å¼€å‘







### è´­ç‰©è½¦æ¨¡å—å’Œæ”¯ä»˜æ¨¡å—å¼€å‘







### å•ç‚¹ç™»å½•åŠŸèƒ½çš„å¼€å‘











## è¡¥å……



å­¦ä¹ ä¸€ä¸ªæ–°æŠ€æœ¯æ‰€éœ€æ—¶é—´ï¼Œæ¯”å¦‚æ¶ˆæ¯ä¸­é—´ä»¶1å¤©ï¼Œè¾¹å­¦è¾¹ç”¨ã€‚æ·±å…¥çš„è¯å°±è¦çš„ä¹…ä¸€ç‚¹ã€‚



- è¯´è¯´ä¸ªäººå‘å±•æ–¹å‘æ–¹é¢çš„æ€è€ƒ



[å¹¿å·åƒé”‹ - é¢è¯•å®å…¸](http://www.funtl.com/2018/04/07/contents/Java-%E9%9D%A2%E8%AF%95%E5%AE%9D%E5%85%B8/ "å¹¿å·åƒé”‹ - é¢è¯•å®å…¸")



> å“ˆå“ˆï¼Œæ‰¾åˆ°äº†ç”µå•†é¡¹ç›®çš„é¢è¯•é¢˜ 1~6
>
> [Javaç”µå•†é¡¹ç›®é¢è¯•é¢˜ï¼ˆå…­ï¼‰-æˆ‘æ˜¯å°è°·ç²’çš„åšå®¢-51CTOåšå®¢](http://blog.51cto.com/13517854/2073947 "Javaç”µå•†é¡¹ç›®é¢è¯•é¢˜ï¼ˆå…­ï¼‰-æˆ‘æ˜¯å°è°·ç²’çš„åšå®¢-51CTOåšå®¢")
>
> è¯¥åšä¸»è¿˜æœ‰å¤§é‡pygç¬”è®°